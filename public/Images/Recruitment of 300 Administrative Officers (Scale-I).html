<!DOCTYPE html>
<!-- saved from url=(0107)https://ibpsreg.ibps.in/oiclnov25/image.php?q=MzRiMzBjYTRhODBiNzJhOWI3YmUwMTg2ZDE1N2NmMGZ8NzQ5MDM4NjIw&st=1 -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Required meta tags -->
    
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<noscript>
		<meta http-equiv="Refresh" content="1; URL=note1.php">
	</noscript>
	
<link rel="icon" type="image/png" sizes="32x32" href="https://ibpsreg.ibps.in/favicon-32x32.png">

    <link rel="stylesheet" href="./Recruitment of 300 Administrative Officers (Scale-I)_files/bootstrap_rwd.min.css">
    <link rel="stylesheet" href="./Recruitment of 300 Administrative Officers (Scale-I)_files/style.css"> 
    <link rel="stylesheet" href="./Recruitment of 300 Administrative Officers (Scale-I)_files/bootstrap-icons.css"> 

    <title>Recruitment of 300 Administrative Officers (Scale-I)</title> 

			<!--<link href="images/jquery-ui.css" rel="stylesheet" type="text/css" />-->
		<link href="./Recruitment of 300 Administrative Officers (Scale-I)_files/jquery-ui.min.css" rel="stylesheet" type="text/css">
		<style type="text/css">
.col1 {
    float: left;
    width: 350px;
    margin: 2px 5px 5px 2px
}

.col2 {
    float: left;
    width: 400px;
    margin: 2px 5px 5px 2px
}

.scan_hlp_txt {
    float: left;
    margin-top: 10px;
}

.stat_cnt #outerContainer #mainContainer div.toolbar {
    display: none !important;
    /* hide PDF viewer toolbar */
}

#outerContainer #mainContainer #viewerContainer {
    top: 0 !important;
    /* move doc up into empty bar space */
}


.blur {
    -webkit-filter: blur(5px);
    -moz-filter: blur(5px);
    -o-filter: blur(5px);
    -ms-filter: blur(5px);
    filter: blur(5px);
}

/* a.btn {
    width: 150px;
    display: block;
    margin: 5px;
    padding: 1em 0;
    font: 1.125em 'Arial', sans-serif;
    font-weight: 700;
    text-align: center;
    text-decoration: none;
    color: #fff;
    border-radius: 5px;
    background: rgb(1 126 211);
} */

a.btn:not(.sbtn1) {
    width: 150px;
    display: block;
    margin: 5px;
    padding: 1em 0;
    font: 1.125em 'Arial', sans-serif;
    font-weight: 700;
    text-align: center;
    text-decoration: none;
    color: #fff;
    border-radius: 5px;
    background: rgb(1 126 211);
}

.modal-wrapper {
    width: 100%;
    height: 100%;
    position: fixed;
    top: 0;
    left: 0;
    z-index: 999;
    visibility: hidden;
    opacity: 0;
    -webkit-transition: all 0.25s ease-in-out;
    -moz-transition: all 0.25s ease-in-out;
    -o-transition: all 0.25s ease-in-out;
    transition: all 0.25s ease-in-out;
}

.modal-wrapper.open {
    opacity: 1;
    /*  background-color: #e4e4e4;*/
    visibility: visible;
}

.modal {
    width: 500px;
    height: auto;
    display: block;
    margin: 0% 0 0 -300px;
    background-color: #e2e2e2 !important;
    position: relative;
    top: 40%;
    left: 50%;
    background: #fff;
    opacity: 0;
    -webkit-transition: all 0.5s ease-in-out;
    -moz-transition: all 0.5s ease-in-out;
    -o-transition: all 0.5s ease-in-out;
    transition: all 0.5s ease-in-out;
    border-radius: 10px;
}

.modal-wrapper.open .modal {
    margin-top: -200px;
    opacity: 1;
}

.head {
    padding: 0.5em 5%;
    overflow: hidden;
    background: #098fea;
    border-radius: 10px 10px 0px 0px;
}

.btn-close {
    width: 32px;
    height: 32px;
    display: block;
    float: right;
}

.btn-close::before,
.btn-close::after {
    content: '';
    width: 32px;
    height: 6px;
    display: block;
    background: #fff;
}

.btn-close::before {
    margin-top: 12px;
    -webkit-transform: rotate(45deg);
    -moz-transform: rotate(45deg);
    -o-transform: rotate(45deg);
    transform: rotate(45deg);
}

.btn-close::after {
    margin-top: -6px;
    -webkit-transform: rotate(-45deg);
    -moz-transform: rotate(-45deg);
    -o-transform: rotate(-45deg);
    transform: rotate(-45deg);
}

.btn-color {
    color: white !important;
}

.take-photo {
    width: 150px;
    display: block;
    margin: 10px;
    padding: 1em 0;
    left: 36%;
    position: sticky;
    font: 1.125em 'Arial', sans-serif;
    font-weight: 700;
    text-align: center;
    text-decoration: none;
    color: #fff;
    border-radius: 5px;
    background: rgb(1 126 211);
}

.btn-amount {
    height: 50px;
    vertical-align: middle !important;
    margin-top: 4%;
    width: 200px;
    margin-left: 30%;
    display: block;
}

video {
    -webkit-transform: scaleX(-1);
    transform: scaleX(-1);
}

.btn-alignment {
    display: block ! !important;
    margin-left: auto !important;
    margin-right: auto !important;
    width: 40% !important;
}

/*.vertical-center {
  margin: 0;
  position: absolute;
  top: 50%;
  -ms-transform: translateY(-50%);
  transform: translateY(-50%);
}*/

#outer {
    width: 100%;
    text-align: center;
}

.inner {
    display: inline-block;
}

.preview_image_tag {
    margin-left: auto;
    margin-right: auto;
    display: block;
}

#videoCanvas {
    -moz-transform: scaleX(-1);
    -o-transform: scaleX(-1);
    -webkit-transform: scaleX(-1);
    transform: scaleX(-1);
    filter: FlipH;
    -ms-filter: "FlipH";
}

#canvas {
    -moz-transform: scaleX(-1);
    -o-transform: scaleX(-1);
    -webkit-transform: scaleX(-1);
    transform: scaleX(-1);
    filter: FlipH;
    -ms-filter: "FlipH";
}

#photo {
    -moz-transform: scaleX(-1);
    -o-transform: scaleX(-1);
    -webkit-transform: scaleX(-1);
    transform: scaleX(-1);
    filter: FlipH;
    -ms-filter: "FlipH";
}

.webcam-msg {
    text-align: center;
    font-size: 18px;
    padding: 10px;
    color: red;
    text-transform: uppercase;
}

.qr_label {
    justify-content: center !important;
    align-items: center !important;
    text-align: center !important;
    min-height: 10vh !important;
}

.blur {
    filter: blur(5px);
    /* Change the value to adjust the blur amount */
}

.hide {
    display: none;
}

.or_class {
    float: left;
    font-size: 15px;
    font-weight: 800;
    padding-top: 150px;
}

.img-heading {
    display: block;
    margin-left: auto;
    margin-right: auto;
    width: 68%;
    /*	text-decoration: underline;*/    
}

.img-heading1 {
    display: block;
    margin-left: auto;
    margin-right: auto;
    width: 67%;
    /*	text-decoration: underline;*/
}

#qr_picture_preview
{
    margin-top:20% !important;
}

#picture_preview
{
 
}

#picture_preview svg
{
    width: auto;
    height: auto;    
    margin-left:30% !important;
}

#qr_picture_preview svg
{
    width: auto;
    height: auto;    
    margin-left:30% !important;
}


#box {
    fill: transparent;
    stroke: black;
}

#qr_preview_picture_tag {
    border: 1px solid;
}

#preview_picture_tag {
    border: 1px solid;
}

#showQRButton {
    color: #fff;
    border-radius: 5px;
    background-color: #ef5350;
    border-color: #ef5350 !important;
    position: absolute;
    z-index: 99;
    top: 42%;
    padding: 8px 15px;
    left: 27%;
}

.float-container {
    border: 3px solid #fff;
    padding: 20px;
}

.float-child {
    width: 20%;
    float: left;
    padding: 20px;
}

.float-child-qr {
    width: 20%;
    float: left;
    padding-top: 20px;
}

.float-container_sign {
    border: 3px solid #fff;
    padding: 20px;
}

.float-child_sign {
    width: 20%;
    float: left;
    padding: 20px;
}

.refresher {
    left: 130px;
    bottom: 30px;
    position: relative;
    align-self: center;
}

.refresher svg {
    position: absolute;
    width: 20px;
    height: 30px;
    display: flex;
    justify-content: center;
    align-items: center;
    transition: transform 200ms cubic-bezier(0.18, 0.89, 0.32, 1.28);
}

.refresher svg path,
.refresher svg polyline {
    stroke-linecap: round;
    stroke-linejoin: round;
}

.refresher.loading .icon-refresh {
    -webkit-animation: refresh 1s infinite linear;
    animation: refresh 1s infinite linear;
}

.refresher .icon-success circle {
    fill: #008000;
    transform-origin: 50% 50%;
    transform: scale(0);
    transition: transform 200ms cubic-bezier(0.18, 0.89, 0.32, 1.28);
}

.refresher .icon-success path {
    stroke-dasharray: 56.0029;
    stroke-dashoffset: 56.0029;
    opacity: 0;
    transition: stroke-dashoffset 350ms 100ms ease;
}

.success {
    border: none !important;
}

.refresher.success .icon-refresh {
    transform: scale(0);
}

.refresher.success .icon-success circle {
    transform: scale(1);
}

.refresher.success .icon-success path {
    stroke-dashoffset: 0;
    opacity: 1;
    transition: opacity 0s, stroke-dashoffset 0.4s;
}

.refresher .icon-error {
    transform-origin: 50% 50%;
    transform: scale(0);
    transition: transform 200ms cubic-bezier(0.18, 0.89, 0.32, 1.28);
}

.refresher .icon-error circle {
    fill: #ff6347;
}

.refresher .icon-error polyline {
    fill: none;
    stroke: #fff;
    stroke-width: 3;
    stroke-dashoffset: 185;
    stroke-dasharray: 100;
    opacity: 0;
}

.refresher.error .icon-refresh {
    transform: scale(0);
}

.refresher.error .icon-error {
    transform: scale(1);
}

.refresher.error .icon-error polyline {
    opacity: 1;
    stroke-dashoffset: 200;
    transition: opacity 0s, stroke-dashoffset 0.4s;
}

.refresher.error .icon-error polyline:nth-child(3) {
    transition-delay: 0.25s;
}

@-webkit-keyframes refresh {
    from {
        transform: rotate(0);
    }

    to {
        transform: rotate(359deg);
    }
}

@keyframes refresh {
    from {
        transform: rotate(0);
    }

    to {
        transform: rotate(359deg);
    }
}
</style>
<script>
var q = "?q=MzRiMzBjYTRhODBiNzJhOWI3YmUwMTg2ZDE1N2NmMGZ8NzQ5MDM4NjIw";
var aimlUrl = '{"picture":"https:\/\/aiml3.ibps.in\/photo_updated","signature":"https:\/\/aiml3.ibps.in\/sign_updated"}';
</script>
<script>
var imagebase64 = "";

function encodeImageFileAsURL(element) {
    var file = element.files[0];
    var reader = new FileReader();
    reader.onloadend = function() {
        imagebase64 = reader.result;
        $("#imageshowtext").val(imagebase64);
    }
    reader.readAsDataURL(file);
}

function ajaxvalidationcall(upload_field) {
    $("#picture").prop('disabled', true);
    $("#signature").prop('disabled', true);
    var resAiml = JSON.parse(aimlUrl);
    $.ajax({
        type: "POST",
        url: resAiml[upload_field.name],
        contentType: "application/json",
        dataType: "json",
        data: JSON.stringify({
            img1: $("#imageshowtext").val(),
            filename: "749038620"
        }),
        success: function(data) {
            $("#imageshowtext").val('');
            $("#output").val(data['output']);
            $("#errorcode").val(data['error_code']);
            $("#reason").val(data['reason']);
            upload_field.form.action = 'upload-picture.php';
            upload_field.form.target = 'upload_iframe';
            upload_field.form.submit();
            upload_field.form.action = '';
            upload_field.form.target = '';
            upload_field.value = '';
            return true;
        },
        error: function(ts, status, error) {
            if (upload_field.name == 'picture') {
                //$("#photock_error").html('<font color="red">Corrupted image,please try again.</font>');
                if ($("#uploadmode").val() != '1') {
                    $("#photock_error").html('<font color="red">Corrupted image,please try again.</font>');
                } else {
                    $("#qr_photock_error").html(
                        '<font color="red">Corrupted image,please try again.</font>');
                }
                document.getElementById('picture_preview').innerHTML = '';
            } else {
                $("#signck_error").html('<font color="red">Corrupted image,please try again.</font>');
                document.getElementById('signature_preview').innerHTML = '';
            }

            updateAimlErrorLog(status, upload_field.name);
            upload_field.value = '';
            return false;
        }
    });
    $("#picture").prop('disabled', false);
    $("#signature").prop('disabled', false);
    var uploadmode = $("#uploadmode").val();
    if (upload_field.name == 'picture' && uploadmode == '2') {
        // $('.modal-wrapper').toggleClass('open');
        closeCamModule();
    }
}

function ajaxWebCamUpload(upload_field) {

    $("#uploadmode").val('2');
    var photoname = 'picture';
    upload_field.name = 'picture';
    $.ajax({
        type: "POST",
        //dataType: "json",
        url: "chk_reg_user_status.php?q=MzRiMzBjYTRhODBiNzJhOWI3YmUwMTg2ZDE1N2NmMGZ8NzQ5MDM4NjIw",
        success: function(data) {
            if ($.trim(data) == 'IC') {

                var status = document.getElementById('status').value;
                var q_value = document.getElementById('q').value;

                document.getElementById('uploadtype').value = photoname;

                if (photoname == 'picture') {
                    document.getElementById('qr_picture_preview').innerHTML =
                        '<div><img src="/hub/application/images/progressbar.gif" border="0" style="width:100%"/></div>';
                }
                ajaxvalidationcall(upload_field);

            } else if (data == 'C') {
                window.location = 'registration_print.php?q=MzRiMzBjYTRhODBiNzJhOWI3YmUwMTg2ZDE1N2NmMGZ8NzQ5MDM4NjIw&t=NjQzMTNlOTA3NGRkNzVlZjA1YmZlZjZlNzhhODhlZDh8MTc2NTIxNzgzMw==';
            } else if (data == 'Error1') {
                alert("Problem in uploading the image.");
                var error = data;
                updateErrorLog(error, photoname);
                upload_field.value = '';
                return false;
            } else {
                window.location = 'index.php';
            }
        },
        error: function(ts, status, error) {
            alert("Problem in uploading the image. Please try again later.");
            updateErrorLog(error, photoname);
            upload_field.value = '';
            return false;
        }
    });

}

function ajaxFileUpload(upload_field) {
    var photoname = upload_field.name;
    $("#imageshowtext").val('');
    $("#errorcode").val('');
    $("#output").val('');
    $("#reason").val('');
    $("#uploadmode").val('1');
    encodeImageFileAsURL(upload_field);
    var filename = upload_field.value;
    const size = parseFloat(upload_field.files[0].size / 1024).toFixed(2);
    if ((size > 50 || size < 20) && upload_field.name ==
        'picture') {
        $("#photock_error").html('<font color="red">Photograph Size should be between 20 KB and 50 KB.</font>');
        upload_field.value = '';
        return false;
    }
    if ((size > 20 || size < 10) && upload_field.name !=
        'picture') {
        $("#signck_error").html('<font color="red">Signature Size should be between 10 KB and 20 KB.</font>');
        upload_field.value = '';
        return false;
    }
    if (((filename.indexOf(' ') >= 0) == true) && upload_field.name == 'picture') {
        $("#photock_error").html(
            '<font color="red">Photograph File Name space not allowed or invalid image format or Invalid extension should not allow to upload.</font>'
        );
        upload_field.value = '';
        return false;
    }
    if (((filename.indexOf(' ') >= 0) == true) && upload_field.name != 'picture') {
        $("#signck_error").html(
            '<font color="red">Signature File Name space not allowed or invalid image format or Invalid extension should not allow to upload.</font>'
        );
        upload_field.value = '';
        return false;
    }
    $.ajax({
        type: "POST",
        //dataType: "json",
        url: "chk_reg_user_status.php?q=MzRiMzBjYTRhODBiNzJhOWI3YmUwMTg2ZDE1N2NmMGZ8NzQ5MDM4NjIw",
        success: function(data) {
            if ($.trim(data) == 'IC') {

                // Checking file type
                var re_text = /\.jpg|\.gif|\.jpeg/i;
                var filename = upload_field.value;


                var status = document.getElementById('status').value;
                var q_value = document.getElementById('q').value;


                document.getElementById('uploadtype').value = photoname;
                var extarray = filename.split(".");
                var ext = extarray[extarray.length - 1].toLowerCase();
                if (ext != 'jpg' && ext != 'jpeg') {
                    alert("File should be either jpg or jpeg");
                    upload_field.value = '';
                    return false;
                }
                if (photoname == 'picture') {
                    document.getElementById('picture_preview').innerHTML =
                        '<div><img src="/hub/application/images/progressbar.gif" border="0" style="width:100%" /></div>';
                } else {
                    document.getElementById('signature_preview').innerHTML =
                        '<div><img src="/hub/application/images/progressbar.gif" border="0" /></div>';
                }
                //var timeDelay = 1000; 
                //setTimeout(ajaxvalidationcall(upload_field), timeDelay);
                ajaxvalidationcall(upload_field);

            } else if (data == 'C') {
                window.location = 'registration_print.php?q=MzRiMzBjYTRhODBiNzJhOWI3YmUwMTg2ZDE1N2NmMGZ8NzQ5MDM4NjIw&t=ZDczZDA1MGQ5MDA1OGUxMDg2YmFkMjM1MmM4MzBkYWF8MTc2NTIxNzgzMw==';
            } else if (data == 'Error1') {
                alert("Problem in uploading the image.");
                var error = data;
                updateErrorLog(error, photoname);
                upload_field.value = '';
                return false;
            } else {
                window.location = 'index.php';
            }
        },
        error: function(ts, status, error) {
            alert("Problem in uploading the image. Please try again later.");
            updateErrorLog(error, photoname);
            upload_field.value = '';
            return false;
        }
    });
}

var ajaxImageValidation = function() {
    var serializedData = $('#pictureForm').serialize();
    $.ajax({
        type: "POST",
        dataType: "json",
        data: serializedData,
        url: "image_validations.php?q=MzRiMzBjYTRhODBiNzJhOWI3YmUwMTg2ZDE1N2NmMGZ8NzQ5MDM4NjIw",
        success: function(response) {
            //console.log(response['response']);
            if (response['response'] == 'Done') {
                $('#pictureForm').attr('action',
                    'reg_details.php?q=MzRiMzBjYTRhODBiNzJhOWI3YmUwMTg2ZDE1N2NmMGZ8NzQ5MDM4NjIw');
                var red = $("#photock_error").html();
                var red1 = $("#signck_error").html();
                var red2 = $("#confirmChk_preview").html('');
                var red3 =  $(".er_alert1").html('');
                if (red.search('<font color') != 0 && red1.search('<font color') != 0) {
                    $("#pictureForm").submit();
                }
            } else {
                // 	console.log(response['confirmPhoto']);
                // console.log(response['confirmSign']);
                $("#photock_error").html(response['photo']);
                $("#qr_photock_error").html(response['qr_photo']);
                $("#signck_error").html(response['signature']);

                if (response['confirmPhoto'] != undefined && response['confirmPhoto'] != '') {
                    $("#confirmPhoto_preview").html(response['confirmPhoto']).show();
                }

                if (response['confirmSign'] != undefined && response['confirmSign'] != '') {
                    $("#confirmSign_preview").html(response['confirmSign']).show();
                }
                $(".er_alert1").html('<font color="red">One or more error(s) found in page<font>');

            }
        }
    });
}

function updateErrorLog(errMsg, photoname) {
    $.ajax({
        type: "POST",
        dataType: "json",
        url: "update_err_log.php?q=MzRiMzBjYTRhODBiNzJhOWI3YmUwMTg2ZDE1N2NmMGZ8NzQ5MDM4NjIw&errMsg=" + errMsg + "&photoname=" + photoname,
        success: function(response) {
            // console.log(response);
        }
    });
}

function updateAimlErrorLog(errMsg, photoname) {
    $.ajax({
        type: "POST",
        dataType: "json",
        url: "update_aimlerr_log.php?q=MzRiMzBjYTRhODBiNzJhOWI3YmUwMTg2ZDE1N2NmMGZ8NzQ5MDM4NjIw&errMsg=" + errMsg + "&photoname=" + photoname,
        success: function(response) {
            // console.log(response);
        }
    });
}

function mypopup(url, width, height) {
    width = window.screen.width;
    height = window.screen.height;
    mywindow = window.open(url, "mywindow",
        "location=0,status=1,scrollbars=1,resizable=1,menubar=0,toolbar=yes,width=" + width + ",height=" + height);
    mywindow.focus();
}


function errorDecl() {
    var confirmPhoto = $('input[name=confirmPhoto]:checked').val();
    if (confirmPhoto == 1) {
        $("#confirmPhoto_preview").html('');
    }
    var confirmSign = $('input[name=confirmSign]:checked').val();
    if (confirmSign == 1) {
        $("#confirmSign_preview").html('');
    }
}
</script>
</head>

<body class="bg-light" onpageshow="if (event.persisted) noBack();">
    <script async="" src="./Recruitment of 300 Administrative Officers (Scale-I)_files/js"></script> 
<script>   
window.dataLayer = window.dataLayer || [];   
function gtag(){dataLayer.push(arguments);}   
gtag('js', new Date());   
gtag('config', 'G-VFEG5KZ6VC'); 
</script>
<script>
//if(TAB_DEVICE == 0){
	window.history.forward(1);
//}else if(TAB_DEVICE > 0){
//	 if (event.persisted) {
 //       window.history.forward();
//    }
//}

</script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="format-detection" content="telephone=no">
<link href="./Recruitment of 300 Administrative Officers (Scale-I)_files/inb.css" rel="stylesheet" type="text/css">

<header class="loginheader regheader" id="myHeader">
	<nav class="navbar navbar-light shadow">
		<a class="navbar-brand"><img src="./Recruitment of 300 Administrative Officers (Scale-I)_files/logo.jpg" width="100px" height="90px"></a>
		 
		<div class="mr-5 pt-3 pt-sm-0 usertxt ml-auto">
			<div>Welcome<b> Rohan</b></div>
			<div> Your Registration No: <b>749038620</b></div>
		</div>
		<a href="https://ibpsreg.ibps.in/oiclnov25/logout.php" class="logout"></a> 
			</nav>
</header>

 
 
  
  	<div id="menu_container" class="p-3">
		
				<!--  <a href="basic_details.php?q=">Registration</a> -->
				
				 
	</div> 
	  
  
  


    <div class="container mt-3 mb-5 logincontent">
        	  <div class="pri_down_sec_div text-right">
        <ul>
								
					        </ul>
      </div> 

 
		<div class="reg_container">
			 
			<div class="container-lg p-0" id="menu">
				<!-- progressbar -->
				<ul class="progressbar mt-5 mb-5">
					<li class="first unactive"><a href="https://ibpsreg.ibps.in/oiclnov25/basic_details.php?q=MzRiMzBjYTRhODBiNzJhOWI3YmUwMTg2ZDE1N2NmMGZ8NzQ5MDM4NjIw"><i class="bi bi-ui-checks"></i><span>Basic Information</span></a></li>
					<li class="active"><a href="https://ibpsreg.ibps.in/oiclnov25/image.php?q=MzRiMzBjYTRhODBiNzJhOWI3YmUwMTg2ZDE1N2NmMGZ8NzQ5MDM4NjIw"><i class="bi bi-images"></i><span>Photo &amp; Signature</span></a></li>
					<li class=""><a href="javascript:void(0);"><i class="bi bi-file-earmark-text-fill"></i><span>Details</span></a></li>
					<li class=""><a href="javascript:void(0);"><i class="bi bi-eye-fill"></i><span>Preview</span></a></li>
										<li class=""><a href="javascript:void(0);"><i class="bi bi-file-earmark-arrow-up-fill"></i><span>Uploads</span></a></li>
																				<li class=""><a href="javascript:void(0);"><i class="bi bi-currency-rupee"></i><span>Payment</span></a></li>
									</ul> 
			</div> 
					</div>
				 				
<script>
		var menuName =  'image';
		var redirect_printcount =  'https://ibpsreg.ibps.in/oiclnov25/ajax_print_count.php';
		var registrationno =  'MzRiMzBjYTRhODBiNzJhOWI3YmUwMTg2ZDE1N2NmMGZ8NzQ5MDM4NjIw';
		var ENABLE_PRINT_COUNT =  '1';
</script>




        <form class="image_form" id="pictureForm" name="pictureForm" method="post" autocomplete="off" enctype="multipart/form-data">
            <h1>Photo &amp; Signature</h1>
            <!-- <div class="man_field">*Mandatory Field</div> -->
                        
            <div id="result" class="p-3 mb-3 alert-success">
                <span style="text-transform: none;">
                    Your Provisional registration Number is                    <b>
                        749038620                    </b>
                    and your Password is                    <b>
                        WR26MRY7                    </b>. <br>
                    Your registration will be <u>valid only</u> when <u>Application Fee/ Intimation Charges are paid</u> and your candidature will be considered for                    Recruitment of 300 Administrative Officers (Scale-I)                  </span>
            </div>

            
            <div id="result" class="alert-box error" style="display:none"></div>





            <div class="row">
                <div class="col-md-12">
                    <input type="hidden" name="uploadtype" id="uploadtype" value="" autocomplete="off">
                    <small class="form-text text-note-small font-weight-bold" colspan="3">NOTE: A <u>recent, CLEARLY recognizable passport size</u> photograph (4.5cm x 3.5cm) should be uploaded by the candidate in the online application form and the signature uploaded should be clear and legible. Candidates are also advised not to change their appearance till the process is completed. Any doubt about photograph or signature at any stage of the process could lead to disqualification.</small>
                    <small class="form-text text-note-small font-weight-bold" colspan="3">NOTE: Candidates are required to capture and upload their photograph either by using webcam or mobile phone.</small>
                                    </div>
                <div class="col-md-10 offset-md-1">
                    <div class="row justify-content-center mt-5 imgbox_can">
                        

                    <div class="col-12 mb-4">
                            <div class="card h-100">
                                <div class="card-body">
                                    


                                    <!-- <input type="file" class="form-control mb-3" name="signature" id="signature" onchange="return ajaxFileUpload(this);" /> -->


                                    <h5 class="card-title">Scanned Photograph of the Candidate:</h5>
                                    
                                    <div>
                                        <div>

                                           <div class="row">
                                                <div class="col">
                                                <div class="col px-0">
                                                <div class="custom-file ">
                                                                                                <input type="file" class="custom-file-input pic" name="picture" id="picture" onchange="return ajaxFileUpload(this);" autocomplete="off">
                                                <label class="custom-file-label" for="picture">Choose file</label>
                                                <input type="hidden" name="uploadmode" id="uploadmode" autocomplete="off">
                                                                                                </div>
                                            </div>
                                            <p id="photock_error"></p>
                                            <p id="qr_photock_error"></p>





                                            

<div class="col pt-2">
    <div class="text_style_bd link left" style="cursor:pointer;">
        <small>
        <a target="_blank" href="https://ibpsreg.ibps.in/oiclnov25/uploads/loadpdf.php?file=k7m5p+fQ15e3w87fz9jbnJ6V2sm0cN7Yk6ed13A=&amp;t=1LHArOLA2di0yczXwNDa083LmNWypw==#toolbar=0&amp;navpanes=0" class="text_style_bd link left guidelink">
                                                        
                                                        <div class="blob blue"></div> <u>Guidelines for scanning the
                                                            Photograph
                                                            &amp; Signature</u>
                                                    </a>
        </small>
    </div>
</div>


<input type="hidden" name="imageshowtext" id="imageshowtext" autocomplete="off">
<input type="hidden" name="errorcode" id="errorcode" autocomplete="off">
<input type="hidden" name="output" id="output" autocomplete="off">
<input type="hidden" name="reason" id="reason" autocomplete="off">
<input type="hidden" name="qr_error_disp" id="qr_error_disp" autocomplete="off">
<input type="hidden" name="photo_error_disp" id="photo_error_disp" autocomplete="off">

<h6 class="card-subtitle p-4">Photo should be clearly visible in the adjacent box</h6>


 <!-- QR / WEBCAM BASED PHOTO UPLOAD PHOTO UPLOAD SECTION -->
                                         <div>
                                            <div class="col1 image_wdth qr_label">
                                                <p style="padding-left: 20px;font-weight: 800;font-size: 15px;padding: 10px;text-align: center;">
                                                (AND)</p>
                                                <b>Capture Photo using Webcamera</b>
                                                <br><br>
                                                <!-- POPUP For Photo Capture -->
                                                <a class="btn trigger btn-color btn-alignment" href="javascript:void(0);"><img alt="" src="./Recruitment of 300 Administrative Officers (Scale-I)_files/camera.svg">
                                                    <span>Capture Photo</span></a>

                                                <div class="modal-wrapper">
                                                    <div class="modal">
                                                        <div class="head">
                                                            <a class="btn-close trigger" href="javascript:;"></a>
                                                        </div>
                                                        <div class="content">
                                                            <div id="cameraSection" style="display: block;">
                                                                <video id="webCamera" style="display: none;">Video
                                                                    stream not available.</video>
                                                                <canvas id="videoCanvas" style="width: 500px !important;"></canvas>
                                                                <div class="vertical-center"><button id="startbutton" class=" btn-amount take-photo">Capture</button>
                                                                </div>
                                                                <br>
                                                            </div>
                                                            <div id="photoSection" style="display:none;">
                                                                <canvas id="canvas" style="display:none"></canvas>
                                                                <img id="photo" class="preview_image_tag" alt="The screen capture will appear in this box.">
                                                                <div id="outer">
                                                                    <div class="inner"><button id="captureAgainBtn" type="button" class="take-photo" onclick="captureAgainMode()">Capture
                                                                            Again</button></div>
                                                                    <div class="inner"><button id="saveCapturedImage" type="button" class="take-photo" onclick="ajaxWebCamUpload(this)">Save</button>
                                                                    </div>
                                                                </div>
                                                                <br>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- POPUP For Photo Capture -->
                                                <p style="padding-left: 20px;font-weight: 800;font-size: 15px;padding: 10px;text-align: center;">
                                                    (OR)</p>
                                                <b>Scan QR to capture the Photo via Mobile</b>
                                                
                                                <div style="margin-bottom: 5px; text-align: center; padding: 10px 0 0 0px;position: relative;">
                                                    <button id="showQRButton" type="button" class="btn" onclick="showQrCode()">Click here to scan</button>
                                                    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAAC0AQMAAAAHA5RxAAAABlBMVEX///8AAABVwtN+AAAACXBIWXMAAA7EAAAOxAGVKw4bAAABrklEQVRYhdWXW3bDMAhE2QH73yU7oNwBJ+l3px+RG9e50jlEPAY54ttHd1dERc1fVj7AxoHJrXoNapWRNxbHYPZ85r+AlzPR2cXUf/AW6Mxd4eUbFHxX3Ty9/enghPnX+MgHB48n2j1Xyuzn+DNvAo65zDGY+M/KKQgiHnvlTJeTF1Yn8MDgfhtzcdXE7KcIf2thlJFPqU2mpgqb7XG3cmRDGys96DLyegq7cFs+6mTjG+mV1LWXm7smjs2xWIr6bO9VKD5OqAlIMtMKko8r1Pq2g8wtJ1c7q0vaSbPIDYuJX2cYwUAzWJPl5NrMuKphreiklavcWvsBIa5OPnqKHOXW9bU4Ix+XNU0Bc2pvl7suvqmV0gvKIy9vXTxXjKSo/AJ03MlRafVmWK4by8k1ceJau8rJOWxRe/T82STtOZy8N9Lq+1K+O3e5OGAV+wTjCtvGn7ag8+MeXpx8ay+ot8SBFV5OTrXElPLTEWzz1sT1yqHeprrb84uT4zU1NKUvD9vvjDwi3yJ+8bdyuo3kjx5xfnPx0PvGHhcp7s7Xe42DK+6pr721F+98MPDvHj8TCCV6aDrZCQAAAABJRU5ErkJggg==" id="QRimg" class="blur">                                                </div>
                                            </div>

                                        </div>
                                        

                                                </div>
                                                <div class="col">



                                                <div id="picture_preview" class="text-center photo_sign_error">
                                                                                        <svg>
                                                <rect id="box" x="0" y="0" width="150" height="150"></rect>
                                            </svg>
                                                                                                                                    <p class="img-heading"><b>Uploaded Image</b>                                            </p>
                                                                                    </div>



                                           <!-- QR / WEBCAM BASED PHOTO UPLOAD PHOTO SHOWING DIV -->
                                                                                   <div id="qr_picture_preview" class="text-center photo_sign_error">

                                                                                                                                    <svg>
                                                <rect id="box" x="0" y="0" width="150" height="150"></rect>
                                            </svg>
                                                                                        <p class="img-heading1"><b>Live Captured Image</b>                                            </p>
                                        </div>
                                        
                                                                                <div id="valid_sample_photo" class="float-child valid_sample_photo" style="margin-left: 160px;padding: 0px;">



                                            <!--<span style="color:green;font-size: 15px;">
                                                <b>Valid Sample Photo</b>
                                                <img src='images/sample_2.jpg' width='180' height='210'
                                                    id='uploadsample_img_tag' name='uploadsample_img_tag' />
                                            </span> -->
                                        </div>

                                    </div>
                                    <span id="picture_error"></span>
                                    										<div class="form-group col-md-12">
										<p id="rejectPhoto" style="text-transform:uppercase;padding-top:10px;color:#ef050a;font-size:13px;font-weight:bold;">
                                                                                            </p>

                                            
                                            <p id="qr_rejectPhoto" style="text-transform:uppercase;padding-top:10px;color:#ef050a;font-size:13px;font-weight:bold;">
                                                                                            </p>
                                            											
										</div>		
                                    <div class="form-group col-md-12">
                                        <div class="custom-control custom-checkbox">
                                            <input type="checkbox" class="custom-control-input" name="confirmPhoto" id="confirmPhoto" value="1" onclick="errorDecl();" autocomplete="off">
                                            <label class="custom-control-label" for="confirmPhoto">I confirm that this is my valid photo and also agree to above mentioned Note.</label>
                                            <div class="invalid-feedback" id="confirmPhoto_preview" style="right:20px">
                                            </div>
                                        </div>
                                    </div>
                                    

                                                </div>
                                           </div>

                                        </div>
                                    </div>

                                    
                                    

                                    <div>

                                

                                       




                                        
                                        
                                     
                                    
                                    

                                    

                                    

                                    

                                </div>
                            </div>
                        </div>

                    
                        

                        


                        <div class="col-12 mb-4">
                            <div class="card h-100">
                                <div class="card-body">
                                    <h5 class="card-title">Scanned Signature of the Candidate:</h5>


                                    <!-- <input type="file" class="form-control mb-3" name="signature" id="signature" onchange="return ajaxFileUpload(this);" /> -->

                                    <div class="col-6 custom-file mb-3">
                                        <input type="file" class="custom-file-input sig" id="signature" name="signature" onchange="return ajaxFileUpload(this);" autocomplete="off">
                                        <label class="custom-file-label" for="signature">Choose file</label>
                                    </div>
                                    <p id="signck_error"></p>

                                                                                                            <div class="text_style_bd link left" style="cursor:pointer;">
                                        <small>
                                            <a target="_blank" href="https://ibpsreg.ibps.in/oiclnov25/uploads/loadpdf.php?file=k7m5p+fQ15e3w87fz9jbnJ6V2sm0cN7Yk6ed13A=&amp;t=1LHArOLA2di0yczXwNDa083LmNWypw==#toolbar=0&amp;navpanes=0" class="text_style_bd link left guidelink">
                                                                                                <div class="blob blue"></div> <u>Guidelines for scanning the Photograph
                                                    &amp; Signature</u>
                                            </a>
                                        </small>

                                    </div>
                                                                        <hr>
                                    <h6 class="card-subtitle">Signature should not be in CAPITAL / BLOCK letters</h6>
                                    <div id="signature_preview" class="text-center photo_sign_error">
                                                                            </div>
                                    <span id="signature_error"></span>
                                                                        <!-- <div class="form-group col-md-12" style="position: absolute;bottom: 20px;margin:0px"> -->
                                    <div class="form-group col-md-12">
                                        <div class="custom-control custom-checkbox">
                                            <p id="rejectSign" style="text-transform:uppercase;padding-top:10px;color:#ef050a;font-size:13px;font-weight:bold;">
                                                                                            </p>
                                            <input type="checkbox" class="custom-control-input" name="confirmSign" id="confirmSign" value="1" onclick="errorDecl();" autocomplete="off">
                                            <label class="custom-control-label" for="confirmSign">I confirm that this is my valid signature and also agree to above mentioned Note.</label>
                                            <div class="invalid-feedback" id="confirmSign_preview" style="right:20px">
                                            </div>

                                        </div>
                                    </div>
                                    
                                </div>
                            </div>
                        </div>

                        
                        

                    </div>
                </div>
            </div>

            <p class="er_alert1" style="text-align:center"></p>
           
            <div class="row justify-content-center mb-5 mt-5">
                <a href="https://ibpsreg.ibps.in/oiclnov25/basic_details.php?q=MzRiMzBjYTRhODBiNzJhOWI3YmUwMTg2ZDE1N2NmMGZ8NzQ5MDM4NjIw" class="btn sbtn1" type="button"> Back </a>

                <input class="btn sbtn" type="button" name="Submit" id="Submit" value="Next" autocomplete="off">
                <input type="hidden" name="myear" id="myear" value="" autocomplete="off">
                <input type="hidden" name="submit_type" id="submit_type" value="" autocomplete="off">
                <input type="hidden" name="q" id="q" value="MzRiMzBjYTRhODBiNzJhOWI3YmUwMTg2ZDE1N2NmMGZ8NzQ5MDM4NjIw" autocomplete="off">
                <input type="hidden" name="status" id="status" value="IC" autocomplete="off">
                                <input type="hidden" name="ps" id="ps" value="MDUyMjVmNTMyNTVmMDVmOTJkMGVjNzE4MWIzOGZkYTN8MTc2NTIxNzgzMw==" autocomplete="off">
                <input type="hidden" name="t" id="t" value="" autocomplete="off">
                            </div>




        </form>

        <div class="watermark" style="background-image: url(&#39;&#39;);"></div>

    </div>
    <div class="modal " id="myModal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="position: fixed;width: 750px;height: 500px;margin-left: -65px;">
                <div class="modal-header">
                    <h5 class="modal-title"><b>Photo Verification</b></h5>
                    <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">
                    <table class="col-md-12">
                        <thead>
                        </thead>
                        <tbody class="table">
                            <tr>
                                <th style="color:red;" id="invalidupload_text"><b>Invalid Uploaded Photo/Sign</b></th>
                                <th style="color:green;" id="uploadsample_text"><b>Valid Sample Photo/Sign</b></th>
                            </tr>
                            <tr>
                                <td id="invalidupload_img">
                                </td>
                                <td id="uploadsample_img">
                                </td>
                            </tr>
                            <tr>
                                <td style="color:red;" id="reasonstatus"></td>
                            </tr>
                            <tr>
                                <td style="color:red; font-size: 12px" id="imgcount"></td>
                            </tr>

                        </tbody>
                    </table>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal " id="myModal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="position: fixed;width: 750px;height: 500px;margin-left: -65px;">
                <div class="modal-header">
                    <h5 class="modal-title"><b>Photo Verification</b></h5>
                    <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">
                    <table class="col-md-12">
                        <thead>
                        </thead>
                        <tbody class="table">
                            <tr>
                                <th style="color:red;" id="invalidupload_text"><b>Invalid Uploaded Photo/Sign</b></th>
                                <th style="color:green;" id="uploadsample_text"><b>Valid Sample Photo/Sign</b></th>
                            </tr>
                            <tr>
                                <td id="invalidupload_img">
                                </td>
                                <td id="uploadsample_img">
                                </td>
                            </tr>
                            <tr>
                                <td style="color:red;" id="reasonstatus"></td>
                            </tr>
                            <tr>
                                <td style="color:red; font-size: 12px" id="imgcount"></td>
                            </tr>

                        </tbody>
                    </table>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    
	<footer class="footer">
		<div class="container-fluid text-right">
			<span class="text-muted"></span>
			<span class="text-muted">Support and Best Viewed on Internet Explorer 9+; Google Chrome 30+ ; Firefox 20+</span>
		</div>
	</footer>
<!-- <div id="footer_links">
<div id="footer_copyright_txt"></div>
<div id="footer_copyright_txt" class="footer_info" >Support and Best Viewed on Internet Explorer 9+; Google Chrome 30+ ; Firefox 20+</div>
</div> -->
<!--<script type="text/javascript" src="js/jquery_1.10.0.min.js"></script>-->
<script type="text/javascript" src="./Recruitment of 300 Administrative Officers (Scale-I)_files/jquery-3.7.1.min.js.download"></script>
	<script language="javascript" type="text/javascript" src="./Recruitment of 300 Administrative Officers (Scale-I)_files/browser.js.download"></script> 
	<script language="javascript" type="text/javascript" src="./Recruitment of 300 Administrative Officers (Scale-I)_files/reg_valid.js.download" +math.random()=""></script>
	<link href="./Recruitment of 300 Administrative Officers (Scale-I)_files/validity.css" rel="stylesheet" type="text/css">
	<script language="javascript" type="text/javascript" src="./Recruitment of 300 Administrative Officers (Scale-I)_files/validity.js.download"></script>
	<script language="javascript" type="text/javascript" src="./Recruitment of 300 Administrative Officers (Scale-I)_files/ajaxloader_rwd.js.download"></script>
<script language="javascript" type="text/javascript" src="./Recruitment of 300 Administrative Officers (Scale-I)_files/overlay.js.download"></script>
<script type="text/javascript">
//$("input,select,textarea").attr("autocomplete","");
$(document).ready(function(){  
    // $("input").attr("autocomplete", 0);
	//$("form").attr("autocomplete", "");
	$("input").attr("autocomplete", "off");
	$("input").focus(function(){
	  if($(this).prop( "readonly" )){
		$(this).blur();
	  }
	});

	$(".zoompageinout").change(function(){   
		$("body").attr("style","zoom:"+$(this).val()+"%;"+"-moz-transform: scale(1.2,1.2);");
	});
	
});



</script>    <script>
    $('.pic').on('change', function() {
        var fileName = document.getElementById("picture").files[0].name;
        $(this).next('.custom-file-label').addClass("selected").html(fileName);
    })
    $('.sig').on('change', function() {
        var fileName = document.getElementById("signature").files[0].name;
        $(this).next('.custom-file-label').addClass("selected").html(fileName);
    })

    function errorDecl() {
        var confirmPhoto = $('input[name=confirmPhoto]:checked').val();
        if (confirmPhoto == 1) {
            $("#confirmPhoto_preview").html('').hide();
        }
        var confirmSign = $('input[name=confirmSign]:checked').val();
        if (confirmSign == 1) {
            $("#confirmSign_preview").html('').hide();
        }
    }
    </script>

    <div id="wrapper_container">
        <div id="wrapper">

            <div id="body_container">
                <div id="body_container_inner">


                    <div class="clear"></div>
                                        <!--footer start here-->

                    <script language="javascript" type="text/javascript" src="./Recruitment of 300 Administrative Officers (Scale-I)_files/image.js.download"></script>
                    <!--footer end here-->
                </div>
                                <div id="fancybox-overlay" class="hide" style=""></div>

                <!-- iframe used for ajax file upload-->
                <!-- debug: change it to style="display:block" -->
                <iframe name="upload_iframe" id="upload_iframe" style="display:none;" src="./Recruitment of 300 Administrative Officers (Scale-I)_files/saved_resource.html"></iframe>
                <!-- iframe used for ajax file upload-->
                <div class="orientationMsg" style="display:none">
                    <table width="780" border="0" cellspacing="0" cellpadding="0" align="center">
	<tbody><tr>
		<td class="tdbg">
			<table width="780" border="0" cellspacing="0" cellpadding="0">
				<tbody><tr>
					<td height="300" valign="top">
						<table width="750" border="0" align="center" cellpadding="0" cellspacing="0">
							<tbody><tr>
								<td width="750" height="15"></td>
							</tr>
						</tbody></table>
						<table width="758" border="0" align="center" cellpadding="2" cellspacing="2">
							<tbody><tr>
								<td align="center" valign="middle" class="tablecontent1">
									<div>
									<p align="center" class="style4" style="text-align: center; color:red; font-size:25px; margin-top:120px;">This Website is viewable only in Landscape Mode.</p>
									</div>
									<p></p>
								</td>
							</tr>
						</tbody></table>
					</td>
				</tr>
			</tbody></table>
		</td>
	</tr>
</tbody></table>                </div>


<script type="text/javascript">
$(document).ready(function() {
    $("#cameraSection").css("display", 'block');

    // Close button in Modal popup
    $('.trigger').click(function() {
        $('.modal-wrapper').toggleClass('open');
        var isMobileVersion = document.getElementsByClassName('modal-wrapper open');
        if (isMobileVersion.length > 0) {
            openCameraCapture(1);
        } else {
            openCameraCapture(2);
        }
        $('.page-wrapper').toggleClass('blur');
    });
});

// After file upload close the camera module
function closeCamModule() {
    $('.modal-wrapper').toggleClass('open');
    var isMobileVersion = document.getElementsByClassName('modal-wrapper open');
    if (isMobileVersion.length > 0) {
        openCameraCapture(1);
    } else {
        openCameraCapture(2);
    }
    $('.page-wrapper').toggleClass('blur');
}

// Open Camera Popup and Play the Webcam 
function openCameraCapture(val) {
    if (val == 1) {
        $("#photoSection").css("display", 'none');
        $("#cameraSection").css("display", 'block');
        startup();
    } else {
        closeCam();
    }
}

var width = 280; // We will scale the photo width to this
var height = 300; // This will be computed based on the input stream

var streaming = false;

var video = null;
var canvas = null;
var photo = null;
var startbutton = null;

function startup() {
    video = document.getElementById('webCamera');
    canvas = document.getElementById('videoCanvas');
    photo = document.getElementById('photo');
    startbutton = document.getElementById('startbutton');

    navigator.mediaDevices.getUserMedia({
            video: true,
            audio: false
        })
        .then(function(stream) {
            video.srcObject = stream;
            this.myStream = stream;
            video.play();
        })
        .catch(function(err) {
            $("#cameraSection").empty();
            $("#cameraSection").html("<img src='images/webcam.png'><p class='webcam-msg'>WebCam not detected</p>");
            console.log("An error occurred: " + err);
        });


    startbutton.addEventListener('click', function(ev) {
        takepicture();
        ev.preventDefault();
    }, false);
    clearphoto();
}

// Close the Camera & Stop the Recording process
function closeCam() {
    this.myStream.getVideoTracks()[0].stop();
}

// Capture the picture and store in canvas
function takepicture() {
    canvas = document.getElementById('canvas');
    var context = canvas.getContext('2d');
    if (width && height) {
        canvas.width = width;
        canvas.height = height;

        // Crop the Image with the Focus box
        context.drawImage(video, 120, 50, 400, 500, 0, 0, 280, 380);

        var data = canvas.toDataURL('image/jpeg');
        photo.setAttribute('src', data);

        // convert to Blob (async)
        canvas.toBlob((blob) => {
            const file = new File([blob], "candidatephoto.jpeg", {
                type: "image/jpeg",
                lastModified: new Date().getTime()
            });
            const dT = new DataTransfer();
            dT.items.add(file);
            document.getElementById("picture").files = dT.files;
        });

        $("#photoSection").css("display", 'block');
        $("#cameraSection").css("display", 'none');
        $("#imageshowtext").val(data);
    } else {
        clearphoto();
    }
}

// Draw Box in Video Container
var video = document.querySelector("#webCamera");
video.onplay = function() {
    setTimeout(drawImge, 400);
};


// Trigger Capture again Modal Popup
function captureAgainMode() {
    $("#photoSection").css("display", 'none');
    $("#cameraSection").css("display", 'block');
}


// Clear the Captured Photo
function clearphoto() {
    canvas = document.getElementById('canvas');
    photo = document.getElementById('photo');
    var context = canvas.getContext('2d');
    context.fillStyle = "#AAA";
    context.fillRect(0, 0, canvas.width, canvas.height);

    var data = canvas.toDataURL('image/jpeg');
    photo.setAttribute('src', data);
}

// Draw box function
function drawImge() {
    var video = document.querySelector("#webCamera");
    var canvas = document.querySelector("#videoCanvas");
    var ctx = canvas.getContext('2d');

    canvas.width = video.videoWidth;
    canvas.height = video.videoHeight;

    ctx.drawImage(video, 0, 0, canvas.width, canvas.height);

    var faceArea = 400;
    var pX = canvas.width / 2 - faceArea / 2;
    var pY = canvas.height / 2 - faceArea / 2;

    ctx.rect(pX, pY, faceArea, faceArea);
    ctx.lineWidth = "3";
    ctx.strokeStyle = "red";
    ctx.stroke();

    setTimeout(drawImge, 100);
}

function showQrCode() {
    $("#showQRButton").toggleClass('hide');
    $("#QRimg").removeClass('blur');
    intiateQRscan();
}

function hideQRCode(tag) {

    var imagesrc = "error";
    console.log(imagesrc);
    $("#qr_preview_picture_tag").removeAttr("src");
    $("#qr_preview_picture_tag").attr("src", imagesrc);

    if (tag == '1') {
        $("#showQRButton").removeClass('hide');
        $("#QRimg").addClass('blur');
    }
}

function intiateQRscan() {
    $.ajax({
        url: "ajaxpoll/qrresponse.php?q=MzRiMzBjYTRhODBiNzJhOWI3YmUwMTg2ZDE1N2NmMGZ8NzQ5MDM4NjIw&intiate=1",
        type: "GET",
        success: function(data) {
            if (data == '1') {
                poll();
            }
        },
        dataType: "json",
    })
    // poll();
}
/* Ajax Short Polling */
function poll() {
    $.ajax({
        url: "ajaxpoll/qrresponse.php?q=MzRiMzBjYTRhODBiNzJhOWI3YmUwMTg2ZDE1N2NmMGZ8NzQ5MDM4NjIw",
        type: "GET",
        success: function(data) {
            if (data == '1') {
                if (window.localStorage) {
                    if (!localStorage.getItem('firstLoad')) {
                        localStorage['firstLoad'] = true;
                        window.location.reload();
                        // hideQRCode(1);
                        return false;
                    } else {
                        localStorage.removeItem('firstLoad');
                    }
                }
                clearTimeout(timeout);
            } else {
                localStorage.removeItem('firstLoad');
            }
        },
        dataType: "json",
        complete: timeout = setTimeout(function() {
            poll()
        }, 5000),
        timeout: 2000
    })
};

let refresher = $(".refresher");

$(".btn-refresh-success").on("click", () => {
    refresher.addClass("loading");

    setTimeout(function() {
        refresher.removeClass("loading");
        refresher.addClass("success");
        setTimeout(() => refresher.removeClass("success"), 2000);
    }, 1500);
});
</script>

</div></div></div></body></html>