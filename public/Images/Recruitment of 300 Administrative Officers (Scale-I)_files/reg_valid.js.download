var global_submit_type="";
var dtCh= "/";
var AllowSubmit = 0;
var regpage_button_status = false;
var centralisedHub = "/hub/application/";
if(typeof(q) == 'undefined' || q == null) {
   var q="";////////4.1 and before version support. reason to add on all_submit
}
function get_radio_value(obj){	
 if(obj){
	var rad_val='';
	for (var i=0; i < obj.length; i++)
  	{
	   if (obj[i].checked)
	   {
		  var rad_val = obj[i].value;
	   }
   	}
	//alert(obj.length+"~"+rad_val);
 return  rad_val;
 }
}

function showdiv(obj){
    document.getElementById(obj).style.visibility='visible';	
	//if( (getBrowserVersion()=='IE6') || (getBrowserVersion()=='IE5') )
	/*if( (getBrowserVersion()=='IE6') || (getBrowserVersion()=='IE5') )
	 document.getElementById(obj).style.display='block';
	else
		document.getElementById(obj).style.display='table-row';*/
		document.getElementById(obj).style.display='inline';	
}

function hidediv(obj){
	document.getElementById(obj).style.visibility='hidden';	
	document.getElementById(obj).style.display='none'	
}

function isInteger(s){
	var i;
    for (i = 0; i < s.length; i++){   
        // Check that current character is number.
        var c = s.charAt(i);
        if (((c < "0") || (c > "9"))) return false;
    }
    // All characters are numbers.
    return true;
}

function stripCharsInBag(s, bag){
	var i;
    var returnString = "";
    // Search through string's characters one by one.
    // If character is not in bag, append to returnString.
    for (i = 0; i < s.length; i++){   
        var c = s.charAt(i);
        if (bag.indexOf(c) == -1) returnString += c;
    }
    return returnString;
}

function chkWindow4(){
	if(window.name!='mywindow4'){
		window.location='index.php';
	}
}

function alpha(e)
{	
	var key;
	var keychar;
	if (window.event){
		key = window.event.keyCode;		
	}else if (e){
		key = e.which;			
	}
	else
		return true;
	
	if((key == 8) || (key == 0))
		return true;
		
	keychar = String.fromCharCode(key);
	keychar = keychar.toLowerCase();
	if(key!=32)
	{ 
	invalids = "`~@#$%^*()_+=\|{}[]:;'\"<>&?/!,.-1234567890\\";
	//	invalids = "`~@#$%^*()_+=\|\,{}[]:;'\"<>&?/!\\";
		  for(i=0; i<invalids.length; i++) {
			if(keychar.indexOf(invalids.charAt(i)) >= 0 || keychar==false) {				           			  
				   return false;               
			}
		  }
	}
	return true;
}


function alphactrl(e){
	var key;
	var keychar;
	var isCtrl;
	var forbiddenKeys = new Array('a', 'n', 'c', 'x', 'v', 'j');
	if (window.event){
		key = window.event.keyCode;	
		if(window.event.ctrlKey)
			isCtrl = true;
        else
            isCtrl = false;
	}else if (e){
		key = e.which;
		if(e.ctrlKey)
			isCtrl = true;
        else
            isCtrl = false;
	}
	else
		return true;
	//alert(key);
	if(isCtrl)
	{
		for(i=0; i<forbiddenKeys .length; i++)
		{
				//case-insensitive comparation				
			if(forbiddenKeys[i].toLowerCase() == String.fromCharCode(key).toLowerCase())
			{
					alert('Key combination CTRL + '
							+String.fromCharCode(key)
							+' has been disabled.');
					return false;
			}
		}
	}

	if((key == 8) || (key == 0))
		return true;
}

function alphadothyphendigits(e){	
	var key;
	var keychar;
	if (window.event){
		key = window.event.keyCode;		
	}else if (e){
		key = e.which;		
	}
	else
		return true;

	if((key == 8) || (key == 0) || (key == 48))
		return true;
		
	keychar = String.fromCharCode(key);
	keychar = keychar.toLowerCase();
	if(key!=32)
	{ 		
		invalids = "`~@#$%^*()_+=\|{}[]:;'\"<>?/&!,\\";
		//invalids = "`~@#$%^*()_+=\|{}[]:;'\"<>&?/!,\\";
		for(i=0; i<invalids.length; i++) {
			if(keychar.indexOf(invalids.charAt(i)) >= 0 || keychar==false) {				           			  
				return false;               
			}
		}
	}
	return true;		
}

function alphadothyphenampdigits(e){	
	var key;
	var keychar;
	if (window.event){
		key = window.event.keyCode;		
	}else if (e){
		key = e.which;		
	}
	else
		return true;
	
	if((key == 8) || (key == 0) || (key == 48) || (key == 38) || (key == 45))
		return true;
		
	keychar = String.fromCharCode(key);
	keychar = keychar.toLowerCase();
	if(key!=32)
	{ 		
		invalids = "`~@#$%^*()_+=\|{}[]:;'\"<>?/&!,\\-";
		//invalids = "`~@#$%^*()_+=\|{}[]:;'\"<>&?/!,\\";
		for(i=0; i<invalids.length; i++) {
			if(keychar.indexOf(invalids.charAt(i)) >= 0 || keychar==false) {				           			  
				return false;               
			}
		}
	}
	return true;		
}
function alphadothyphenampdigitscommaslash(e){	
	var key;
	var keychar;
	if (window.event){
		key = window.event.keyCode;		
	}else if (e){
		key = e.which;		
	}
	else
		return true;

	if((key == 8) || (key == 0) || (key == 48) || (key == 44) || (key == 47) || (key == 38))
		return true;
		
	keychar = String.fromCharCode(key);
	keychar = keychar.toLowerCase();
	if(key!=32)
	{ 		
		invalids = "`~@#$%^*()_+=\|{}[]:;'\"<>?/&!,\\";
		//invalids = "`~@#$%^*()_+=\|{}[]:;'\"<>&?/!,\\";
		for(i=0; i<invalids.length; i++) {
			if(keychar.indexOf(invalids.charAt(i)) >= 0 || keychar==false) {				           			  
				return false;               
			}
		}
	}
	return true;		
}
function alphadigits(e){	
	var key;
	var keychar;
	if (window.event){
		key = window.event.keyCode;		
	}else if (e){
		key = e.which;		
	}
	else
		return true;

	if((key == 8) || (key == 0) || (key == 48))
		return true;
		
	keychar = String.fromCharCode(key);
	keychar = keychar.toLowerCase();
	if(key!=32)
	{ 		
		invalids = "`~@#$%^*()-&+=\|{}[]:;'\"<>?/!,\\._";
		//invalids = "`~@#$%^*()_+=\|{}[]:;'\"<>&?/!,\\";
		for(i=0; i<invalids.length; i++) {
			if(keychar.indexOf(invalids.charAt(i)) >= 0 || keychar==false) {				           			  
				return false;               
			}
		}
	}
	return true;		
}
function alphadotscoredigits(e){	
	var key;
	var keychar;
	if (window.event){
		key = window.event.keyCode;		
	}else if (e){
		key = e.which;		
	}
	else
		return true;

	if((key == 8) || (key == 0) || (key == 48))
		return true;
		
	keychar = String.fromCharCode(key);
	keychar = keychar.toLowerCase();
	if(key!=32)
	{ 		
		invalids = "`~@#$%^*()-&+=\|{}[]:;'\"<>?/!, \\";
		//invalids = "`~@#$%^*()_+=\|{}[]:;'\"<>&?/!,\\";
		for(i=0; i<invalids.length; i++) {
			if(keychar.indexOf(invalids.charAt(i)) >= 0 || keychar==false) {				           			  
				return false;               
			}
		}
	}else{
		if(key==32){
			return false;
		}else{
			return true;	
		}
	}
		
}
function first_submit(allowsubmit){
	var frm=document.reg_frm;
	global_submit_type = "first";
	AllowSubmit = allowsubmit;
	// checkcode_sc(document.reg_frm.txtCode.value, document.reg_frm.security_check.value);
	formfsubmit();
}
// validate reg form
function validate(submit_type, step_no, allowsubmit){
	global_submit_type = submit_type;
	global_reg_step_no = step_no;
	AllowSubmit = allowsubmit;
	var frm=document.reg_frm;
	formfsubmit();
	// checkcode_sc(document.reg_frm.txtCode.value, document.reg_frm.security_check.value);

}
function formfsubmit(){

	// document.getElementById('err_txtCode').innerHTML='';
	if(global_submit_type == "first" && AllowSubmit==1){
		if(typeof(BASIC_ALERT_CH) != "undefined"){
		   var msg = BASIC_ALERT_CH;
		}else{
			var msg = "Are you sure the data entered in is correct as No change/edit of application will be allowed after \"final Submit\". If yes click \"OK\". Otherwise click \"CANCEL\"";
		}
		if(confirm(msg))
		{
			if(typeof(PAGE_TOKEN_CUT_OFF) != "undefined"){
				checkCookie();
				
			}
			//console.log(TAB_DEVICE);return false;
			/* if (window.innerWidth < window.innerHeight && typeof TAB_DEVICE !== 'undefined' && TAB_DEVICE > 0) {
				var hostName = window.location.host;
				var CurrentFilePath = window.location.pathname;
				var indexPageArray = CurrentFilePath.split("/");
				var regex = /(\w+)(\.php)/;
				str = CurrentFilePath.replace(regex, "index$2");
				window.location.href =  str;
			}else{ */
				document.getElementById('FinalSubmit').disabled=true;
				document.reg_frm.action="all_submit.php"+q;
				document.getElementById('submit_type').value = "submit1";
				document.reg_frm.submit();
			//}
			
		}
		else
		{
			document.getElementById('FinalSubmit').disabled=false;
			setCookie("checkvalidation", "", 30);
			//document.getElementById('Close').disabled=false;
		}
	}
	else if(global_submit_type == "pay"){
		if(confirm("Do you want to submit?")){
			/* if (window.innerWidth < window.innerHeight && typeof TAB_DEVICE !== 'undefined' && TAB_DEVICE > 0) {
				var hostName = window.location.host;
				var CurrentFilePath = window.location.pathname;
				var indexPageArray = CurrentFilePath.split("/");
				var regex = /(\w+)(\.php)/;
				str = CurrentFilePath.replace(regex, "index$2");
				window.location.href =  str;
			}else{ */
				document.getElementById('Submit').disabled=true;
				document.reg_frm.action="all_submit.php"+q;
				document.getElementById('submit_type').value = "submit4";
				document.reg_frm.submit();
			//}
		}
		else{
			document.getElementById('Submit').disabled=false;
			//document.getElementById('Close').disabled=false;
		}
	}
	else if(global_submit_type == 0 && AllowSubmit==1){		 
		alert("Verified Successfully");
	}
	else if(global_submit_type == 1 && AllowSubmit==1){	
		/* if (window.innerWidth < window.innerHeight && typeof TAB_DEVICE !== 'undefined' && TAB_DEVICE > 0) {
			var hostName = window.location.host;
			var CurrentFilePath = window.location.pathname;
			var indexPageArray = CurrentFilePath.split("/");
			var regex = /(\w+)(\.php)/;
			str = CurrentFilePath.replace(regex, "index$2");
			window.location.href =  str;
		}else{ */
			document.getElementById('FinalSubmit').disabled=true;			
			document.reg_frm.action="all_submit.php"+q;
			document.reg_frm.submit();
		//}
	}
	else if (global_submit_type == 2 && AllowSubmit==1){		 
		if(confirm("Do you want to save the details?")){
			/* if (window.innerWidth < window.innerHeight && typeof TAB_DEVICE !== 'undefined' && TAB_DEVICE > 0) {
				var hostName = window.location.host;
				var CurrentFilePath = window.location.pathname;
				var indexPageArray = CurrentFilePath.split("/");
				var regex = /(\w+)(\.php)/;
				str = CurrentFilePath.replace(regex, "index$2");
				window.location.href =  str;
			}else{ */
				document.getElementById('Save').disabled=true;	
				document.reg_frm.action="all_submit.php"+q;
				document.reg_frm.submit();
			//}
		}	
	}
}
/////////Multiple Registration handled in single click Starts/////////
function setCookie(cname,cvalue,exdays) {
  var d = new Date();
  d.setTime(d.getTime() + (exdays*1000));
  var expires = "expires=" + d.toGMTString();
  document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
}

function getCookie(cname) {
  var name = cname + "=";
  var decodedCookie = document.cookie;
  var ca = decodedCookie.split(';');
  for(var i = 0; i < ca.length; i++) {
    var c = ca[i];
    while (c.charAt(0) == ' ') {
      c = c.substring(1);
    }
    if (c.indexOf(name) == 0) {
      return c.substring(name.length, c.length);
    }
  }
  return "";
}

function checkCookie() {
	var userValid=getCookie("checkvalidation");
	if (userValid=="") 
	{
		userValid = functionRandomNumberKey(); 
		setCookie("checkvalidation", userValid, PAGE_TOKEN_CUT_OFF);
		return true;
	}
}
function functionRandomNumberKey() {
  var randomNumberKey = Math.floor((Math.random() * 9999999999) + 1);
  document.getElementById("checkvalidation").value = randomNumberKey;
  return randomNumberKey;
}
/////////Multiple Registration handled in single click End/////////
function pay_submit(){
    var frm=document.reg_frm;
	//if(get_radio_value(frm.paymentin) == "")
	/* if(frm.paymentin.checked == false)
	{
		document.getElementById('err_paymentin').innerHTML= 'Please select payment mode';
		frm.paymentin[0].focus();
		return false;
	} else {
		document.getElementById('err_paymentin').innerHTML= '';
	} */
	if(jQuery('#pgsw').val() == '1'){
		if(jQuery('.gateway').is(':checked') == false)
		{
			jQuery('#err_pgway').html('Please select payment gateway');
			return false;
		} else {
			jQuery('#err_pgway').html('');
		}		
	}

	if(EnableCaptcha=='Y'){
		if(document.reg_frm.txtCode.value=='')
		{
			document.getElementById('err_txtCode').style.display= 'block';
			document.getElementById('err_txtCode').innerHTML= 'Please enter the Security Codeee';
			document.reg_frm.txtCode.value='';
			document.reg_frm.txtCode.focus();
			return false;
		} // Now the Ajax CAPTCHA validation
		else
		{
			global_submit_type = "pay";
			checkcode_sc(document.reg_frm.txtCode.value, document.reg_frm.security_check.value);
		}
	} else  {
		if(confirm("Do you want to submit?"))
		{
			/* if (window.innerWidth < window.innerHeight && typeof TAB_DEVICE !== 'undefined' && TAB_DEVICE > 0) {
				var hostName = window.location.host;
				var CurrentFilePath = window.location.pathname;
				var indexPageArray = CurrentFilePath.split("/");
				var regex = /(\w+)(\.php)/;
				str = CurrentFilePath.replace(regex, "index$2");
				window.location.href =  str;
			}else{ */
				document.getElementById('Submit').disabled=true;
				document.reg_frm.action="all_submit.php"+q;
				document.getElementById('submit_type').value = "submit4";
				document.reg_frm.submit();
			//}
		}
		else
		{
			document.getElementById('Submit').disabled=false;
			//document.getElementById('Close').disabled=false;
		}
	}
}
function reset1(){
	document.getElementById('txtCode').value='';
}
function getHTTPObject(){
	try{
		req = new XMLHttpRequest();
	}
	catch (err1){
		try{
			req = new ActiveXObject("Msxml12.XMLHTTP");
		}
		catch (err2){
			try{
				req = new ActiveXObject("Microsoft.XMLHTTP");
			}catch (err3){
				req = false;
			}
		}
	}
	return req;
}
var http = getHTTPObject();

// New captcha code
function show_captcha(){
	var url=centralisedHub+"captcha/generate_code.php?SCA="+window.location.pathname;
	http.open("POST", url, true);
	http.onreadystatechange = handle_code;
	http.send(null);
}
function show_captcha_new()
{
	var url=centralisedHub+"captcha/generate_code.php?SCA="+window.location.pathname;
	http.open("POST", url, true);
	http.onreadystatechange = handle_code_login;
	http.send(null);
}
function check_emailexists(){
	var url="checkemailexists.php?email="+document.getElementById('txtcemail').value;
	http.open("POST", url, true);
	http.onreadystatechange = handle_emailexist;
	http.send(null);
}
function handle_emailexist(){
	if (http.readyState == 4){
		ccresponse = http.responseText;
		document.getElementById('div_email_exists').style.display="block";
		document.getElementById('div_email_exists').innerHTML=ccresponse;
		//document.reg_frm.security_check.value=ccode;
	}
}
function handle_code(){
	if (http.readyState == 4){
		ccode = http.responseText;
		document.getElementById('image').src=centralisedHub+"captcha/captcha_images.php?width=100&height=40&code="+ccode+"&sid=" + Math.random();
		document.reg_frm.security_check.value=ccode;
	}
}function handle_code_login(){
	if (http.readyState == 4){
		ccode = http.responseText;
		document.getElementById('image').src=centralisedHub+"captcha/captcha_images.php?width=100&height=40&code="+ccode+"&sid=" + Math.random();
		$("#security_check").val(ccode);
	}
}
function finalsubmit(){
	if(confirm("Are you sure as No change/edit of application will be allowed after submit")){
		document.getElementById('FinalSubmit').disabled=true;			
		document.reg_frm.action="all_submit.php"+q;
		document.getElementById('submit_type').value = "previewsubmit";
		document.reg_frm.submit();
	}
}
function finalsubmitAlert(){
	var msgType=document.getElementById('msgType').value;
	if(msgType==1){
		var msgAlert="• On completion of registration, no changes of data already entered will be permitted.\n" + '• After completion of registration proceed for document upload  and payment process';
	}else if(msgType==2){
		var msgAlert="• On completion of registration, no changes of data already entered will be permitted.\n" + '• After completion of registration proceed for payment process';
	}else if(msgType==3){
		var msgAlert="• On completion of registration, no changes of data already entered will be permitted.\n" + '• After completion of registration proceed for document upload.';
	}else if(msgType==4){
		var msgAlert='• On completion of registration, no changes of data already entered will be permitted.';
	}else{
		var msgAlert='Are you sure as No change/edit of application will be allowed after submit';
	}
	if(confirm(msgAlert)){
		var msgAlertN='Are you sure to continue ?';
		if(confirm(msgAlertN)){	
		document.getElementById('FinalSubmit').disabled=true;			
		document.reg_frm.action="all_submit.php"+q;
		document.getElementById('submit_type').value = "previewsubmit";
		document.reg_frm.submit();
		}
	}
	
	
}
function checkcode_sc(thecode, sec_chk){
	var url=centralisedHub+"captcha/secureck.php?security_code="+escape(thecode)+"&security_check="+escape(sec_chk);
	http.open("POST", url, true);
	http.onreadystatechange = handleHttpResponse_sc;
	http.send(null);
	return false;
}
function handleHttpResponse_sc(){
	if (http.readyState == 4){
		captchaOK = http.responseText;
		if(captchaOK != 'true'){
			document.getElementById('err_txtCode').innerHTML='Incorrect Security Code. Please try again';
			if(document.getElementById('Submit'))
				document.getElementById('Submit').disabled=false;
			else if(document.getElementById('FinalSubmit'))
				document.getElementById('FinalSubmit').disabled=false;
			document.reg_frm.txtCode.value='';
			show_captcha();
			document.reg_frm.txtCode.focus();
			return false;
		}
		else{
			document.getElementById('err_txtCode').innerHTML='';
			document.getElementById('err_txtCode').style.display='none';
			if(global_submit_type == "first" && AllowSubmit==1){
				if(confirm("Are you sure the data entered in is correct. If yes click OK. Other wise click cancel")){
					document.getElementById('FinalSubmit').disabled=true;
					document.reg_frm.action="all_submit.php"+q;
					document.getElementById('submit_type').value = "submit1";
					document.reg_frm.submit();
				}else{
					document.getElementById('FinalSubmit').disabled=false;
					//document.getElementById('Close').disabled=false;
				}
			}else if(global_submit_type == "pay"){
				if(confirm("Do you want to submit?")){
					document.getElementById('Submit').disabled=true;
					document.reg_frm.action="all_submit.php"+q;
					document.getElementById('submit_type').value = "submit4";
					document.reg_frm.submit();
				}else{
					document.getElementById('Submit').disabled=false;
					//document.getElementById('Close').disabled=false;
				}
			}else if(global_submit_type == 0 && AllowSubmit==1){		 
				alert("Verified Successfully");
			}else if(global_submit_type == 1 && AllowSubmit==1){		 
				document.getElementById('FinalSubmit').disabled=true;			
				document.reg_frm.action="all_submit.php"+q;
				document.reg_frm.submit();
			}else if (global_submit_type == 2 && AllowSubmit==1){		 
				if(confirm("Do you want to save the details?")){
				    document.getElementById('Save').disabled=true;	
				    document.reg_frm.action="all_submit.php"+q;
				    document.reg_frm.submit();
				}	
			}
		}
	}
}
// New captcha code end
function getAge(varAsOfDate,varBirthDate){
   var dtAsOfDate;
   var dtBirth;
   var dtAnniversary;
   var intSpan;
   var intYears;
   var intMonths;
   var intWeeks;
   var intDays;
   var intHours;
   var intMinutes;
   var intSeconds;
   var strHowOld;

   // get born date
   dtBirth = new Date(varBirthDate);
   
   // get as of date
   dtAsOfDate = new Date(varAsOfDate);

   // if as of date is on or after born date
   if ( dtAsOfDate >= dtBirth ){
      // get time span between as of time and birth time
      intSpan = ( dtAsOfDate.getUTCHours() * 3600000 +
                  dtAsOfDate.getUTCMinutes() * 60000 +
                  dtAsOfDate.getUTCSeconds() * 1000    ) -
                ( dtBirth.getUTCHours() * 3600000 +
                  dtBirth.getUTCMinutes() * 60000 +
                  dtBirth.getUTCSeconds() * 1000       )

    
      if ( dtAsOfDate.getUTCDate() > dtBirth.getUTCDate() ||
           ( dtAsOfDate.getUTCDate() == dtBirth.getUTCDate() && intSpan >= 0 ) ){

			// most recent day (date) anniversary is in as of month
			dtAnniversary = 
            new Date( Date.UTC( dtAsOfDate.getUTCFullYear(),
                                dtAsOfDate.getUTCMonth(),
                                dtBirth.getUTCDate(),
                                dtBirth.getUTCHours(),
                                dtBirth.getUTCMinutes(),
                                dtBirth.getUTCSeconds() ) );

         }else {

         // most recent day (date) anniversary is in month before as of month
         dtAnniversary = 
            new Date( Date.UTC( dtAsOfDate.getUTCFullYear(),
                                dtAsOfDate.getUTCMonth() - 1,
                                dtBirth.getUTCDate(),
                                dtBirth.getUTCHours(),
                                dtBirth.getUTCMinutes(),
                                dtBirth.getUTCSeconds() ) );

         // get previous month
         intMonths = dtAsOfDate.getUTCMonth() - 1;
         if ( intMonths == -1 )
            intMonths = 11;

         // while month is not what it is supposed to be (it will be higher)
         while ( dtAnniversary.getUTCMonth() != intMonths )

            // move back one day
            dtAnniversary.setUTCDate( dtAnniversary.getUTCDate() - 1 );

         }

      // if anniversary month is on or after birth month
		if ( dtAnniversary.getUTCMonth() >= dtBirth.getUTCMonth() ) {

         // months elapsed is anniversary month - birth month
         intMonths = dtAnniversary.getUTCMonth() - dtBirth.getUTCMonth();

         // years elapsed is anniversary year - birth year
         intYears = dtAnniversary.getUTCFullYear() - dtBirth.getUTCFullYear();

         }

      // if birth month is after anniversary month
        else{
         // months elapsed is months left in birth year + anniversary month
         intMonths = (11 - dtBirth.getUTCMonth()) + dtAnniversary.getUTCMonth() + 1;

         // years elapsed is year before anniversary year - birth year
         intYears = (dtAnniversary.getUTCFullYear() - 1) - dtBirth.getUTCFullYear();

         }

      // to calculate weeks, days, hours, minutes and seconds
      // we can take the difference from anniversary date and as of date

      // get time span between two dates in milliseconds
      intSpan = dtAsOfDate - dtAnniversary;

      // get number of weeks
      intWeeks = Math.floor(intSpan / 604800000);

      // subtract weeks from time span
      intSpan = intSpan - (intWeeks * 604800000);
      
      // get number of days
      intDays = Math.floor(intSpan / 86400000);

      // subtract days from time span
      intSpan = intSpan - (intDays * 86400000);

      // get number of hours
      intHours = Math.floor(intSpan / 3600000);
    
      // subtract hours from time span
      intSpan = intSpan - (intHours * 3600000);

      // get number of minutes
      intMinutes = Math.floor(intSpan / 60000);

      // subtract minutes from time span
      intSpan = intSpan - (intMinutes * 60000);

      // get number of seconds
      intSeconds = Math.floor(intSpan / 1000);

      // create output string     
      if ( intYears > 0 )
         if ( intYears > 1 )
            strHowOld = intYears.toString();
         else
            strHowOld = intYears.toString();
      else
         strHowOld = '';   
      }
   else
      strHowOld = 'Not Born Yet'
   // return string representation
   return strHowOld
}   

function setAge(){
	if( (document.getElementById('seldobyear').value!='') && (document.getElementById('seldobmon').value!='') && (document.getElementById('seldobday').value!='') ){		
	    document.getElementById('txtage').innerHTML='';
		varBirthDate=document.getElementById('seldobmon').value+'/'+document.getElementById('seldobday').value+'/'+document.getElementById('seldobyear').value;
		if(isDate(varBirthDate)!=false){
			if($( "#selpost" ).length){
				var selpst = document.getElementById('selpost').value;	
			}else{
				var selpst = '';
			}
			
			var maxYear=document.getElementById('myear').value;
			
			if (typeof AGE_COMBINATION_CONFIG1 === 'undefined' || AGE_COMBINATION_CONFIG === null) {	
				postParams = form.serialize();
				$.ajax({
					url: 'ajax_age_calculation.php',
					type: 'POST',
					//data: { postcode: selpst, dob: varBirthDate, maxYrVal: maxYear},
					data: postParams+"&dob="+varBirthDate+"&maxYrVal="+maxYear+"&postcode="+selpst,
					dataType:"json",
					success: function (dataResponse) {
						if($.trim(dataResponse["msg"]) != ""){
							alert(dataResponse["msg"]);
							document.getElementById("seldobday").focus();
							document.getElementById('txtage').innerHTML='';	
							return false;
						}else{
							document.getElementById('txtage').innerHTML=dataResponse["age"];
							/*if(typeof TAB_DEVICE !== 'undefined' && TAB_DEVICE > 0){
								alert("Please note that when you change the year of birth the relevant years you have provided in Qualification and Education details will have to be revalidated and saved again!");
							}*/
						}
					}
				}); 
			} else {
				
				postParams = form.serialize();
				$.ajax({
					url: 'ajax_age_calculation.php',
					type: 'POST',
					dataType: "json",
					data: postParams+"&dob="+varBirthDate+"&maxYrVal="+maxYear,
					success: function (dataResponse) {
						if($.trim(dataResponse["msg"]) != ""){
							alert(dataResponse["msg"]);
							document.getElementById("seldobday").focus();
							document.getElementById('txtage').innerHTML='';	
							return false;
						}else{
							document.getElementById('txtage').innerHTML=dataResponse["age"];
							/*if(typeof TAB_DEVICE !== 'undefined' && TAB_DEVICE > 0){
								alert("Please note that when you change the year of birth the relevant years you have provided in Qualification and Education details will have to be revalidated and saved again!");
							}*/
						}
					}
				});
			}
			
			
		}else{	  
			document.getElementById('txtage').innerHTML='';
		}	
	}else{	  
	  document.getElementById('txtage').innerHTML='';
	}
}

//Floating Point validation
function Chk_Float(obj){	
	 val=obj.value;	
	 if(val!=''){
		 var wrongchar= false ;
		 var DecimalFound = false;		   
		 for (var i = 0; i < val.length; i++){
					var ch = val.charAt(i)
					if (i == 0 && ch == "-") {
						  continue;
					}
					if (ch == "." && !DecimalFound) {					
						  DecimalFound = true ;
						  continue;
					}
					if (ch < "0" || ch > "9") {					
						wrongchar= true	;								   					 
					}
		 } 		    					  
		 if(!wrongchar) {
			if(!DecimalFound){
				if(obj.value == 0)
				  obj.value=0.00;
				else 
				 obj.value=val+'.00'
				if(val>100){
//					alert(val.substr(0,2) +"--"+ val.substr(2,6));
				 obj.value=val.substr(0,2)+"."+val.substr(2,2);
				 }
			 }
			return true;
		  }else
			return false 			 	  	  
	 }
}

function float1(e){	
	var key;
	var keychar;
	if (window.event){
		key = window.event.keyCode;		
	}else if (e){
		key = e.which;		
	}
	else
	  return true;
	keychar = String.fromCharCode(key);
	keychar = keychar.toLowerCase();	
	if((key == 8) || (key == 0)|| (key == 46))
		return true;
	if((key > 47) && (key < 58)){			
		return true;
	}else
	    return false;				
}

function number(e){	
	var key;
	var keychar;
	if (window.event){
		key = window.event.keyCode;		
	}else if (e){
		key = e.which;		
	}
	else
		return true;
	if((key == 8) || (key == 0))
		return true;
		
	keychar = String.fromCharCode(key);
	keychar = keychar.toLowerCase();
	if((key > 47) && (key < 58)){				
		return true;
	}else
	    return false;	
}

function other_domain(){	
	otherdomain=document.reg_frm.seldomain.value;	
	//alert(otherdomain);
	if(otherdomain == "Others")
	{
		showdiv("othdomain");
		document.reg_frm.txtothdomain.disabled=false;
		document.reg_frm.txtothdomain.focus();
	}
	else
	{
		hidediv("othdomain");
		document.reg_frm.txtothdomain.disabled=true;
		document.reg_frm.txtothdomain.value="";	
	}
}

function emailctrl(e){	
	var key;
	var keychar;
	var isCtrl;
	var forbiddenKeys = new Array('a', 'n', 'c', 'x', 'v', 'j');
	if (window.event){
		key = window.event.keyCode;
		if(window.event.ctrlKey)
			isCtrl = true;
        else
            isCtrl = false;
	}else if (e){
		key = e.which;
		if(e.ctrlKey)
			isCtrl = true;
        else
            isCtrl = false;
	}
	else
		return true;	

	if(isCtrl){
		for(i=0; i<forbiddenKeys .length; i++){
				//case-insensitive comparation				
			if(forbiddenKeys[i].toLowerCase() == String.fromCharCode(key).toLowerCase())
			{
				alert('Key combination CTRL + '
						+String.fromCharCode(key)
						+' has been disabled.');
				return false;
			}
		}
	}	
	if((key == 8) || (key == 0))
		return true;	
}

function alphadothyphen(e){	
	var key;
	var keychar;
	if (window.event){
		key = window.event.keyCode;		
	}else if (e){
		key = e.which;		
	}
	else
		return true;
	if((key == 8) || (key == 0))
		return true;
		
	keychar = String.fromCharCode(key);
	keychar = keychar.toLowerCase();
	if(key!=32){ 
		
		invalids = "`~@#$%^*()_+=\|{}[]:;'\"<>&?/!,1234567890\\";
		//	invalids = "`~@#$%^*()_+=\|\,{}[]:;'\"<>&?/!\\";
		  for(i=0; i<invalids.length; i++) {
			if(keychar.indexOf(invalids.charAt(i)) >= 0 || keychar==false) {				           			  
				   return false;               
			}
		  }
	}
	return true;		
}
function DaysArray(n) {
	for (var i = 1; i <= n; i++) {
		this[i] = 31
		if (i==4 || i==6 || i==9 || i==11) {this[i] = 30}
		if (i==2) {this[i] = 29}
   } 
   return this
}
function DaysArrayNew(n) {
	var retVal = {};
	for (var i = 1; i <= n; i++) {
		retVal[i] = 31
		if (i==4 || i==6 || i==9 || i==11) {retVal[i] = 30}
		if (i==2) {retVal[i] = 29}
   } 
   return retVal;
}
function isDate(dtStr){
	var daysInMonth = DaysArrayNew(12)
	var pos1=dtStr.indexOf(dtCh)
	var pos2=dtStr.indexOf(dtCh,pos1+1)
	var strMonth=dtStr.substring(0,pos1)
	var strDay=dtStr.substring(pos1+1,pos2)
	var strYear=dtStr.substring(pos2+1)
	strYr=strYear
	
	document.getElementById('err_seldobyear').style.display = 'none';
	if (strDay.charAt(0)=="0" && strDay.length>1) strDay=strDay.substring(1)
	if (strMonth.charAt(0)=="0" && strMonth.length>1) strMonth=strMonth.substring(1)
	for (var i = 1; i <= 3; i++) {
		if (strYr.charAt(0)=="0" && strYr.length>1) strYr=strYr.substring(1)
	}
	month=parseInt(strMonth)
	day=parseInt(strDay)
	year=parseInt(strYr)	
	if (pos1==-1 || pos2==-1){
		//alert("The date format should be : dd/mm/yyyy");
		document.getElementById('err_seldobyear').innerHTML = "The date format should be : dd/mm/yyyy";
		document.getElementById('err_seldobyear').style.display = '';
		document.getElementById('txtage').innerHTML="";
		return false;
	}
	if (strMonth.length<1 || month<1 || month>12){
		//alert("Please select a valid month");
		document.getElementById('err_seldobyear').innerHTML = "Please select a valid month";
		document.getElementById('err_seldobyear').style.display = '';
		document.getElementById('txtage').innerHTML="";
		return false;
	}
	if (strDay.length<1 || day<1 || day>31 || (month==2 && day>daysInFebruary(year)) || day > daysInMonth[month]){
		//alert("Please select a valid day");
		document.getElementById('err_seldobyear').innerHTML = "Please select a valid day";
		document.getElementById('err_seldobyear').style.display = '';
		document.getElementById('txtage').innerHTML="";
		return false;
	}
	/*if (strYear.length != 4 || year==0 || year < minYear || year > maxYear){
		alert("Please select a valid 4 digit year between "+minYear+" and "+maxYear)
		return false
	}*/
	if (strYear.length != 4 || year==0 ){
		//alert("Please select a valid 4 digit year between "+minYear+" and "+maxYear);
		document.getElementById('err_seldobyear').innerHTML = "Please select a valid 4 digit year between "+minYear+" and "+maxYear;
		document.getElementById('err_seldobyear').style.display = '';
		document.getElementById('txtage').innerHTML="";
		return false;
	}	
	if (dtStr.indexOf(dtCh,pos2+1)!=-1 || isInteger(stripCharsInBag(dtStr, dtCh))==false){
		//alert("Please select a valid date for the selected month");
		document.getElementById('err_seldobyear').innerHTML = "Please select a valid date for the selected month";
		document.getElementById('err_seldobyear').style.display = '';
		document.getElementById('txtage').innerHTML="";
		return false;
	}	
	return true;
}

function other_domain()
{
	
	otherdomain=document.reg_frm.seldomain.value;	
	//alert(otherdomain);
	if(otherdomain == "Others")
	{
		showdiv("othdomain");
		document.reg_frm.txtothdomain.disabled=false;
		document.reg_frm.txtothdomain.focus();
	}
	else
	{
		hidediv("othdomain");
		document.reg_frm.txtothdomain.disabled=true;
		document.reg_frm.txtothdomain.value="";	
	}
}


function getCentrefromajax(){
if (window.XMLHttpRequest)
{// code for IE7+, Firefox, Chrome, Opera, Safari
xmlhttp=new XMLHttpRequest();
}
else
{// code for IE6, IE5
xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
}
state_apply=document.getElementById('selstateapplied').value;
//alert(state_apply);
xmlhttp.open("POST",'ajax_getCentre.php?selcompany='+state_apply,false);
//xmlhttp.open("POST",'ajax_checkImageStatus.php?imagename='+imagename_1+imagename_2+imagename_3+imagename_4+imagename_5+'&imagetype=signature',false);
xmlhttp.send(null);
return xmlhttp.responseText;
}

function getexamcentre(){
	var x=1;
	document.getElementById('selexamcentre').options.length=0;
	document.getElementById('selexamcentre').options[0] = new Option('Select','');
	document.reg_frm.txtcentrecode.value='';
	company_apply=document.getElementById('selstateapplied').value;
	//alert(state_apply);
	//confirmed_employe=get_radio_value(document.reg_frm.confirmed_employe);
	var centre_list='';
	//var addyear=0;
	if(company_apply !=""){
		centre_list=getCentrefromajax();
		if(centre_list.indexOf(",")==-1){
			var centre_info = centre_list.split("|");
			centre_code=jQuery.trim(centre_info[0].toString());
			centre_value=jQuery.trim(centre_info[1].toString());
			document.getElementById('selexamcentre').options[x] = new Option(centre_value,centre_code);
		}
		else{
			var centre_multiple = centre_list.split(",");
			for(i = 0; i < centre_multiple.length; i++){
				centre_list=centre_multiple[i];
				var centre_info = centre_list.split("|");
				centre_code=jQuery.trim(centre_info[0].toString());
				centre_value=jQuery.trim(centre_info[1].toString());
				document.getElementById('selexamcentre').options[x] = new Option(centre_value,centre_code);
				x++;
			}
		}
	}
}
function daysInFebruary (year){
	// February has 29 days in any year evenly divisible by four,
    // EXCEPT for centurial years which are not also divisible by 400.
    return (((year % 4 == 0) && ( (!(year % 100 == 0)) || (year % 400 == 0))) ? 29 : 28 );
}

function printfn()
{
	//document.getElementById('1001a1').innerHTML='';
	if(document.getElementById('down-time'))
		document.getElementById('down-time').style.display='none';	
	window.print();
}
function numberctrl(e)
{	
	var key;
	var keychar;
	var isCtrl;
	var forbiddenKeys = new Array('a', 'n', 'c', 'x', 'v', 'j');
	if (window.event){
		key = window.event.keyCode;
		if(window.event.ctrlKey)
			isCtrl = true;
        else
            isCtrl = false;
	}else if (e){
		key = e.which;
		if(e.ctrlKey)
			isCtrl = true;
        else
            isCtrl = false;
	}
	else
		return true;	

	if(isCtrl)
	{
		for(i=0; i<forbiddenKeys .length; i++)
		{
			//case-insensitive comparation				
			if(forbiddenKeys[i].toLowerCase() == String.fromCharCode(key).toLowerCase())
			{
					alert('Key combination CTRL + '
							+String.fromCharCode(key)
							+' has been disabled.');
					return false;
			}
		}
	}	
	if((key == 8) || (key == 0))
		return true;
		
	//keychar = String.fromCharCode(key);
	//keychar = keychar.toLowerCase();
	//if((key > 47) && (key < 58)){				
	//	return true;
	//}else
	  //  return false;	
}

/**************WORK EXP CALCULATE DIFF***********************************/
function DaysInMonth(Y, M) {
    with (new Date(Y, M, 1, 12)) {
        setDate(0);
        return getDate();
    }
}

function expcalc(fromday,frommon,fromyr,today, tomon, toyr)
{
var calday = fromday;
var calmon = frommon;
var calyear = fromyr;

var curday = today;
var curmon = tomon;
var curyear = toyr;

		/* var curd = new Date(curyear,curmon,curday);
		var cald = new Date(calyear,calmon-1,calday); */
		var curd = new Date(curyear,curmon-1,curday);
		var cald = new Date(calyear,calmon-1,calday);
		curd.setDate(curd.getDate() + 1);
		var diff =  Date.UTC(curyear,curmon,curday,0,0,0) - Date.UTC(calyear,calmon,calday,0,0,0);

		var dife = datediff(curd,cald);
		if(dife[0] >= 0){
			if(EXP_DATEFORMAT_DDMMYY == 1){
				if(WORKEXP_SERVICE_IN_MONTH == 1){
					//return parseInt(dife[0] * 12)+ parseInt(dife[1] * 12)+ parseInt(dife[2]);	
					return parseInt(dife[0] * 12)+ parseInt(dife[1]);	
				}else{
					return dife[0]+"/"+dife[1]+"/"+dife[2];			
				}
			} 
			else{
				if(WORKEXP_SERVICE_IN_MONTH == 1){
					return parseInt(dife[0] * 12)+ parseInt(dife[1]);	
				}else{
					return dife[0]+"/"+dife[1];			
				}
				
			}
				
		}else
			return '';
}

function datediff(date1, date2) {
    var y1 = date1.getFullYear(), m1 = date1.getMonth()+1, d1 = date1.getDate(),
	 y2 = date2.getFullYear(), m2 = date2.getMonth()+1, d2 = date2.getDate();

    if (d1 < d2) {
        m1--;
        d1 += DaysInMonth(y2, m2);
    }
    if (m1 < m2) {
        y1--;
        m1 += 12;
    }
    return [y1 - y2, m1 - m2, d1 - d2];
}

/************************************************************************/

function print_action(menuName) {			
			
				var print_status = '';
				if($.ajax({
					type: 'POST',
					data : {	
						reg_no: registrationno,
						act_redirect: menuName,
						access_for: 'update_print_count'
					},
					url: redirect_printcount,
					dataType: 'html',
					cache: true,
					success: function(response) {
						print_status = response;						
					}
				})) {
					//window.print();
				}				
			
		}



$(document).ready(function(){
	$(".print").click(function(){
		var printarea1 = 'wrapper';
		if($("#candidateprintpage").length > 0 ) {
			$(".printpagelogoarea").show();
		}
		$(".wrapper").hide();
		$(".menuarea").hide();
		$(".print").hide();
		if(ENABLE_PRINT_COUNT == '1'){
		print_action(menuName)
		}
		window.document.body.style.fontSize = "9px";
		window.print();
		window.document.body.style.fontSize = "12px";
		$(".wrapper").show();
		$(".menuarea").show();
		$(".print").show();
		if($("#candidateprintpage").length > 0 ) {
			$(".printpagelogoarea").hide();
		}
		
		
		
	});	
	var g=window.location.search.split('&');
	if(g[1]=="window=new"){
		$(".print").trigger('click');
	}
		
});
 var settingTableRowColor = function(tableName){
	$('#'+tableName+' tr:visible:odd').attr('class','tb-r2');
	$('#'+tableName+' tr:visible:even').attr('class','tb-r1');
}


function chgChances(){
	if(get_radio_value(document.reg_frm.opt_cat) != "" || get_radio_value(document.reg_frm.optdisability) != ""){
		var category = get_radio_value(document.reg_frm.opt_cat); 
		var disablity = get_radio_value(document.reg_frm.optdisability); 
		if(category=='GENERAL' && disablity!='Y'){
			document.reg_frm.no_of_occations.value = "4";	
		}else if(category=='GENERAL' && disablity=='Y'){
			document.reg_frm.no_of_occations.value = "7";
		}else if(category=='OBC' && disablity!='Y'){
			document.reg_frm.no_of_occations.value = "7";
		}else if(category=='OBC' && disablity=='Y'){
			document.reg_frm.no_of_occations.value = "7";
		}else{
			document.reg_frm.no_of_occations.value = "";
		}
		
	}else{
		document.reg_frm.no_of_occations.value = "";
	}
}


function enablewid()
{
	var marital = get_radio_value(document.reg_frm.mstatus);
	var optsex = get_radio_value(document.reg_frm.optsex);
	
	if(optsex=="M"){
		document.reg_frm.mstatus[2].disabled=true;
		document.reg_frm.mstatus[2].checked=false;
		
		}
	 else {		
			document.reg_frm.mstatus[2].disabled=false;
		document.reg_frm.mstatus[2].checked=false;
	}
}

function getPetCentrefromajax(){
	if (window.XMLHttpRequest){// code for IE7+, Firefox, Chrome, Opera, Safari
		xmlhttp=new XMLHttpRequest();
	}
	else{// code for IE6, IE5
		xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
	}
	bank_apply=document.getElementById('selbank').value;
	//alert(state_apply);
	xmlhttp.open("POST",'ajax_getPetCentre.php?selcompany='+bank_apply,false);
	//xmlhttp.open("POST",'ajax_checkImageStatus.php?imagename='+imagename_1+imagename_2+imagename_3+imagename_4+imagename_5+'&imagetype=signature',false);
	xmlhttp.send(null);
	return xmlhttp.responseText;
}

function getpetexamcentre(){
	var x=1;
	document.getElementById('petexamcentrename').options.length=0;
	document.getElementById('petexamcentrename').options[0] = new Option('Select','');
	document.reg_frm.txtpetcentrecode.value='';
	company_apply=document.getElementById('selbank').value;
	//alert(state_apply);
	//confirmed_employe=get_radio_value(document.reg_frm.confirmed_employe);
	var centre_list='';
	//var addyear=0;
	if(company_apply !=""){
		centre_list=getPetCentrefromajax();
		if(centre_list.indexOf(",")==-1)
		{
		var centre_info = centre_list.split("|");
		centre_code=centre_info[0].toString();
		centre_value=centre_info[1].toString();
		document.getElementById('petexamcentrename').options[x] = new Option(centre_value,centre_code);
		}else{
			var centre_multiple = centre_list.split(",");
			for(i = 0; i < centre_multiple.length; i++){
				centre_list=centre_multiple[i];
				var centre_info = centre_list.split("|");
				centre_code=centre_info[0].toString();
				centre_value=centre_info[1].toString();
				document.getElementById('petexamcentrename').options[x] = new Option(centre_value,centre_code);
				x++;
			}
		}
	}
}


function chgPostCode(){
	if(document.reg_frm.selpost.value != ""){
		var post = document.reg_frm.selpost.value; 
		
		if(post=="01"){
			document.reg_frm.txtpostcode.value = "01";	
		} else if(post=="02"){
			document.reg_frm.txtpostcode.value = "02" ;
		} else if(post=="03"){
			document.reg_frm.txtpostcode.value = "03" ;
		}	else if(post=="04"){
			document.reg_frm.txtpostcode.value = "04" ;
		}	else if(post=="05"){
			document.reg_frm.txtpostcode.value = "05" ;
		}	else if(post=="06"){
			document.reg_frm.txtpostcode.value = "06" ;
		}	else if(post=="07"){
			document.reg_frm.txtpostcode.value = "07" ;
		}	else if(post=="08"){
			document.reg_frm.txtpostcode.value = "08" ;
		}		
	}else{
		document.reg_frm.txtpostcode.value = "";
	}
}

function chgcat(){
	//var category = get_radio_value(document.reg_frm.opt_cat); 
	// if(document.reg_frm.selpost.value != ""){		
		document.reg_frm.opt_cat[0].checked = false;
		document.reg_frm.opt_cat[1].checked = false;
		document.reg_frm.opt_cat[2].checked = false;
		document.reg_frm.opt_cat[3].checked = false;
		document.reg_frm.opt_cat[4].checked = false;
		document.reg_frm.opt_cat[5].checked = false;
	// }	
}
function checkleapyear(datea)
{
       datea = parseInt(datea);
        if(datea%4 == 0)
        {
                if(datea%100 != 0)
                {
                        return true;
                }
                else
                {
                        if(datea%400 == 0)
                                return true;
                        else
                                return false;
                }
        }
return false;
}
function differ_dates(d1,m1,y1,d2,m2,y2){
	t1=d1+"/"+m1+"/"+y1;
    t2=d2+"/"+m2+"/"+y2;

	var date2 = new Date(y2,m2-1,d2);
		var date1 = new Date(y1,m1-1,d1);
    

 
   //Total time for one day
        var one_day=1000*60*60*24; 
		//var date1=new Date(t1);
		//alert(date1);
        //var date2=new Date(t2);
			//alert(date2);
        var oneDay=1000*60*60*24;
       return Math.ceil((date2.getTime()-date1.getTime()));
}
function isValidDate(s) {
    // format D(D)/M(M)/(YY)YY
    var dateFormat = /^\d{1,4}[\.|\/|-]\d{1,2}[\.|\/|-]\d{1,4}$/;

    if (dateFormat.test(s)) {
        // remove any leading zeros from date values
        s = s.replace(/0*(\d*)/gi,"$1");
        var dateArray = s.split(/[\.|\/|-]/);
      
        // correct month value
        dateArray[1] = dateArray[1]-1;

        // correct year value
        if (dateArray[2].length<4) {
            // correct year value
            dateArray[2] = (parseInt(dateArray[2]) < 50) ? 2000 + parseInt(dateArray[2]) : 1900 + parseInt(dateArray[2]);
        }

        var testDate = new Date(dateArray[2], dateArray[1], dateArray[0]);
        if (testDate.getDate()!=dateArray[0] || testDate.getMonth()!=dateArray[1] || testDate.getFullYear()!=dateArray[2]) {
            return false;
        } else {
            return true;
        }
    } else {
        return false;
    }
}

	function alphadothypenspace(e)
{	
	var key;
	var keychar;
	if (window.event){
		key = window.event.keyCode;		
	}else if (e){
		key = e.which;		
	}
	else
		return true;
	if((key == 8) || (key == 0))
		return true;
		
	keychar = String.fromCharCode(key);
	keychar = keychar.toLowerCase();
	if(key!=32)
	{ 
		
	invalids = "`~@#$%^*()_+=\|{}[]:;'\"<>&?/!,1234567890\\";
	//	invalids = "`~@#$%^*()_+=\|\,{}[]:;'\"<>&?/!\\";
		  for(i=0; i<invalids.length; i++) {
			if(keychar.indexOf(invalids.charAt(i)) >= 0 || keychar==false) {				           			  
				   return false;               
			}
		  }
	}
	return true;		
}

function alphawithSingleQuotes(e)
{
	var key;
	var keychar;
	if (window.event){
		key = window.event.keyCode;		
	}else if (e){
		key = e.which;		
	}
	else
		return true;
	if((key == 8) || (key == 0))
		return true;
		
	keychar = String.fromCharCode(key);
	keychar = keychar.toLowerCase();
	if(key!=32)
	{ 
		
	invalids = "'~@#$%^*()_+=\|{}[]:;\"<>&?/!,.-1234567890\\";	
	//invalids = "`~@#$%^*()_+=\|{}[]:;\"<>&?/!,.-1234567890\\";	
		  for(i=0; i<invalids.length; i++) {
			if(keychar.indexOf(invalids.charAt(i)) >= 0 || keychar==false) {				           			  
				   return false;               
			}
		  }
	}
	return true;		
}

var somethingChanged = false;
$(document).ready(function() { 
	$('input,select').change(function() { 
		somethingChanged = true; 
	}); 
	$(".tabvisited,.notvisited").click(function() {
		if(somethingChanged) {
			if(confirm("Are you sure you want to navigate away from this page?\n\nYou have modified your entries.\n\nPress OK to discard the changes or Cancel to stay on the current page.")) {
				
			} else {
				return false;
			}
	   }
	});
	 $('.notSelectable').disableSelection();
	 $('input.disablecopypaste').bind('copy paste', function (e) {
       e.preventDefault();
    }); 
});
/////////////////////////////
 
$.fn.extend({
    disableSelection: function() {
        this.each(function() {
            this.onselectstart = function() {
                return false;
            };
            this.unselectable = "on";
            $(this).css('-moz-user-select', 'none');
            $(this).css('-webkit-user-select', 'none');
        });
    }
}); 